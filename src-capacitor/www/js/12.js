(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{cb4c:function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("q-page",[t("instance-manager")],1)},r=[],s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("q-table",{attrs:{title:e.$t("conf.instance.managerTitle"),data:e.getInstanceData,columns:e.columns,"row-key":"name","hide-bottom":e.getInstanceData.length<=5,dense:e.$q.screen.lt.md,flat:"","wrap-cells":""},scopedSlots:e._u([{key:"top-right",fn:function(){return[t("q-btn",{attrs:{outline:"",round:"",dense:"",disable:e.errorName,icon:"add"}},[t("q-popup-edit",{attrs:{title:e.$t("conf.instance.newName"),buttons:"","label-set":e.$t("label.create"),validate:e.nameValidation},on:{hide:e.nameValidation,save:e.createInstance,"before-show":function(n){e.currName=""}},model:{value:e.currName,callback:function(n){e.currName=n},expression:"currName"}},[t("q-input",{attrs:{dense:"",autofocus:"",error:e.errorName,"error-message":e.errorMessageName,spellcheck:"false"},model:{value:e.currName,callback:function(n){e.currName=n},expression:"currName"}})],1)],1)]},proxy:!0},{key:"body",fn:function(n){return[t("q-tr",{attrs:{props:n}},[t("q-td",{key:"friendly_name",staticClass:"cursor-pointer",attrs:{props:n}},[e._v("\n        "+e._s(n.row.friendly_name)+"\n        "),t("q-popup-edit",{attrs:{buttons:"",title:e.$t("conf.instance.newName"),"label-set":e.$t("label.save"),validate:e.nameValidation},on:{hide:e.nameValidation,save:function(t){return e.saveName(n.row.instance,t)},"before-show":function(t){e.currName=n.row.friendly_name}},model:{value:e.currName,callback:function(n){e.currName=n},expression:"currName"}},[t("q-input",{attrs:{dense:"",autofocus:"",error:e.errorName,"error-message":e.errorMessageName,spellcheck:"false"},model:{value:e.currName,callback:function(n){e.currName=n},expression:"currName"}})],1)],1),t("q-td",{key:"running",attrs:{props:n}},[t("q-toggle",{attrs:{dense:"",disable:0===n.row.instance},on:{input:function(t){return e.toggleInstanceState(t,n.row.instance)}},model:{value:n.row.running,callback:function(t){e.$set(n.row,"running",t)},expression:"props.row.running"}})],1),t("q-td",{key:"del",attrs:{props:n}},[t("q-btn",{attrs:{icon:"delete",disable:0===n.row.instance,flat:"",round:"",dense:""},on:{click:function(t){return e.handleDelete(n.row.instance,n.row.friendly_name)}}})],1)],1)]}}])})},o=[],i=t("967e"),c=t.n(i),l=(t("96cf"),t("fa84")),u=t.n(l),m=(t("7514"),t("c5f6"),t("e325")),d={mixins:[m["b"]],data:function(){return{currName:"",errorName:!1,errorMessageName:"",columns:[{name:"friendly_name",required:!0,label:this.$t("conf.instance.tableName"),align:"left",field:"friendly_name",sortable:!0},{name:"running",align:"left",label:this.$t("conf.instance.tableState"),field:"running",sortable:!0,sort:function(e,n,t,a){return Number(e)-Number(n)}},{name:"del",align:"left",label:this.$q.lang.label.remove,field:"del"}]}},computed:{getInstanceData:function(){return this.$store.getters["api/getInstances"]}},created:function(){},methods:{toggleInstanceState:function(e,n){this.$socket.setInstanceState(e,n)},createInstance:function(e,n){this.$socket.createInstance(e.trim())},saveName:function(e,n){this.$socket.renameInstance(e,n.trim())},nameValidation:function(e){if(void 0!==e){var n=e.trim();if(n.length<5)return this.errorName=!0,this.errorMessageName=this.$t("validate.minLength",[5]),!1;if(this.$store.getters["api/getInstances"].find((function(e){return e.friendly_name==n})))return this.errorName=!0,this.errorMessageName=this.$t("validate.unique",['"'.concat(e,'"')]),!1}return this.errorName=!1,this.errorMessageName="",!0},handleDelete:function(){var e=u()(c.a.mark((function e(n,t){var a;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.openConfirmDialog({title:this.$t("conf.instance.delInstance"),msg:this.$t("conf.instance.delInstanceMsg",{name:'"'.concat(t,'"')})});case 2:a=e.sent,a&&this.$socket.deleteInstance(n);case 4:case"end":return e.stop()}}),e,this)})));function n(n,t){return e.apply(this,arguments)}return n}()}},f=d,p=t("2877"),g=Object(p["a"])(f,s,o,!1,null,null,null),h=g.exports,b={name:"PageInstance",components:{"instance-manager":h},data:function(){return{}},computed:{},mounted:function(){},methods:{}},N=b,w=Object(p["a"])(N,a,r,!1,null,null,null);n["default"]=w.exports}}]);