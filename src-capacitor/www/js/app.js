(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={3:0},i={3:0},a=[];function s(e){return c.p+"js/"+({}[e]||e)+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={1:1,4:1,5:1,6:1,7:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{1:"679e13b5",2:"31d6cfe0",4:"d954ebba",5:"93c13deb",6:"f8084cc4",7:"aca7299e",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0",11:"31d6cfe0",12:"31d6cfe0",13:"31d6cfe0",14:"31d6cfe0"}[e]+".css",i=c.p+r,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===r||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],p.parentNode.removeChild(p),n(a)},p.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){o[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}i[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;a.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"0744":function(e,t,n){e.exports=function(){return new Worker(n.p+"6a9c1c61248647d3b596.worker.js")}},"2f39":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getStoredConnections",(function(){return ze})),n.d(r,"getLastAddress",(function(){return Ue})),n.d(r,"getLastPassword",(function(){return Qe})),n.d(r,"getLastCrypt",(function(){return We})),n.d(r,"getLastToken",(function(){return Ge})),n.d(r,"getAutoDisconnect",(function(){return Ve}));var o={};n.r(o),n.d(o,"addSetAddress",(function(){return Je})),n.d(o,"setLastPassword",(function(){return Ke})),n.d(o,"setLastToken",(function(){return Ye})),n.d(o,"resetLastPassword",(function(){return Xe})),n.d(o,"setLastCrypt",(function(){return Ze})),n.d(o,"resetLastToken",(function(){return et})),n.d(o,"setAutoDisconnect",(function(){return tt})),n.d(o,"deleteStoredConnection",(function(){return nt}));var i={};n.r(i),n.d(i,"setLastPassword",(function(){return rt})),n.d(i,"getLastPassword",(function(){return ot}));var a={};n.r(a),n.d(a,"getLang",(function(){return st})),n.d(a,"getDarkMode",(function(){return ct})),n.d(a,"getDarkModeOptions",(function(){return ut})),n.d(a,"getDarkTimespan",(function(){return lt})),n.d(a,"getDarkStartTime",(function(){return dt})),n.d(a,"getDarkEndTime",(function(){return pt})),n.d(a,"getDarkLat",(function(){return mt})),n.d(a,"getDarkLong",(function(){return ft})),n.d(a,"getThemeColor",(function(){return ht})),n.d(a,"isBacktoTop",(function(){return gt})),n.d(a,"getOriginName",(function(){return vt})),n.d(a,"getPriority",(function(){return bt})),n.d(a,"getSelectedRemoteTab",(function(){return kt})),n.d(a,"getEffBlacklist",(function(){return wt})),n.d(a,"getColor",(function(){return yt})),n.d(a,"getAdminAppMode",(function(){return xt})),n.d(a,"getFavColors",(function(){return St})),n.d(a,"getDebugState",(function(){return Tt}));var s={};n.r(s),n.d(s,"setDark",(function(){return qt})),n.d(s,"setDarkMode",(function(){return _t})),n.d(s,"setDarkTimespan",(function(){return Dt})),n.d(s,"setDarkStartTime",(function(){return $t})),n.d(s,"setDarkEndTime",(function(){return At})),n.d(s,"setDarkLat",(function(){return Et})),n.d(s,"setDarkLong",(function(){return It})),n.d(s,"setThemeColor",(function(){return Lt})),n.d(s,"setBackToTop",(function(){return Mt})),n.d(s,"setLang",(function(){return Pt})),n.d(s,"setOriginName",(function(){return Nt})),n.d(s,"setPriority",(function(){return Rt})),n.d(s,"setSelectedRemoteTab",(function(){return Ot})),n.d(s,"setEffBlacklist",(function(){return Bt})),n.d(s,"setColor",(function(){return Ft})),n.d(s,"setAdminAppMode",(function(){return jt})),n.d(s,"setDebugState",(function(){return Ht}));var c={};n.r(c);var u={};n.r(u),n.d(u,"setConnectedState",(function(){return Qt})),n.d(u,"setConnectingState",(function(){return Wt})),n.d(u,"setInitialConnected",(function(){return Gt})),n.d(u,"setActiveInstance",(function(){return Vt})),n.d(u,"setLastLedColors",(function(){return Jt})),n.d(u,"setPreventAutoDisconnect",(function(){return Kt})),n.d(u,"openLoginDialog",(function(){return Yt})),n.d(u,"openConnectDialog",(function(){return Xt})),n.d(u,"openTokenHandler",(function(){return Zt})),n.d(u,"setBtnMoreEntries",(function(){return en})),n.d(u,"ledStreamRequest",(function(){return tn})),n.d(u,"imageStreamRequest",(function(){return nn}));var l={};n.r(l),n.d(l,"isConnected",(function(){return on})),n.d(l,"getConnectingState",(function(){return an})),n.d(l,"getConnectState",(function(){return sn})),n.d(l,"getAvailThemeColors",(function(){return cn})),n.d(l,"getLogFilterOptions",(function(){return un})),n.d(l,"getActiveInstance",(function(){return ln})),n.d(l,"getLastLedColors",(function(){return dn})),n.d(l,"getPreventAutoDisconnect",(function(){return pn})),n.d(l,"isEmbed",(function(){return mn})),n.d(l,"getBtnMoreEntries",(function(){return fn}));var d={};n.r(d),n.d(d,"openConnectDialog",(function(){return hn})),n.d(d,"openLoginDialog",(function(){return gn})),n.d(d,"openTokenHandler",(function(){return vn}));var p={};n.r(p),n.d(p,"getSysInfo",(function(){return yn})),n.d(p,"getServerSchema",(function(){return xn})),n.d(p,"getServerConfig",(function(){return Sn})),n.d(p,"getHyperionVersion",(function(){return Tn})),n.d(p,"getComponents",(function(){return Cn})),n.d(p,"getHyperionEnable",(function(){return qn})),n.d(p,"getLog",(function(){return _n})),n.d(p,"getActiveLogFilters",(function(){return Dn})),n.d(p,"getFilteredLog",(function(){return $n})),n.d(p,"getEffects",(function(){return An})),n.d(p,"getSelectPreparedEffects",(function(){return En})),n.d(p,"getSelectPreparedEffectsFiltered",(function(){return In})),n.d(p,"getAdjustments",(function(){return Ln})),n.d(p,"getBrightness",(function(){return Mn})),n.d(p,"getPlugins",(function(){return Pn})),n.d(p,"getInstances",(function(){return Nn})),n.d(p,"getActiveInstanceData",(function(){return Rn})),n.d(p,"getLeds",(function(){return On})),n.d(p,"getLoginState",(function(){return Bn})),n.d(p,"getTokenList",(function(){return Fn})),n.d(p,"getPendingTokens",(function(){return jn})),n.d(p,"getLoginReady",(function(){return Hn})),n.d(p,"getPriorities",(function(){return zn})),n.d(p,"getPrioritiesAutoSelect",(function(){return Un}));var m={};n.r(m),n.d(m,"setSysInfo",(function(){return Qn})),n.d(m,"setServerInfo",(function(){return Wn})),n.d(m,"setServerSchema",(function(){return Gn})),n.d(m,"setServerConfig",(function(){return Vn})),n.d(m,"setComponentsUpdate",(function(){return Jn})),n.d(m,"updateLog",(function(){return Kn})),n.d(m,"updatePlugins",(function(){return Yn})),n.d(m,"updateInstances",(function(){return Xn})),n.d(m,"updateEffects",(function(){return Zn})),n.d(m,"updateAdjustment",(function(){return er})),n.d(m,"updatePriorities",(function(){return tr})),n.d(m,"setActiveLogFilters",(function(){return nr})),n.d(m,"resetLogEntries",(function(){return rr})),n.d(m,"updateLeds",(function(){return or})),n.d(m,"setBrightness",(function(){return ir})),n.d(m,"setLoginState",(function(){return ar})),n.d(m,"setTokenList",(function(){return sr})),n.d(m,"setPendingToken",(function(){return cr})),n.d(m,"removePendingToken",(function(){return ur})),n.d(m,"setLoginReady",(function(){return lr}));var f={};n.r(f),n.d(f,"setPendingTokens",(function(){return dr}));var h={};n.r(h),n.d(h,"init",(function(){return Wo})),n.d(h,"connect",(function(){return Go})),n.d(h,"disconnect",(function(){return Vo})),n.d(h,"getServerInfo",(function(){return Jo})),n.d(h,"getSysInfo",(function(){return Ko})),n.d(h,"setAdminAuthRequired",(function(){return Yo})),n.d(h,"setTokenAuthRequired",(function(){return Xo})),n.d(h,"logout",(function(){return Zo})),n.d(h,"login",(function(){return ei})),n.d(h,"loginToken",(function(){return ti})),n.d(h,"requestToken",(function(){return ni})),n.d(h,"cancelRequestToken",(function(){return ri})),n.d(h,"setCompState",(function(){return oi})),n.d(h,"setColor",(function(){return ii})),n.d(h,"setImage",(function(){return ai})),n.d(h,"setImageRGBA",(function(){return si})),n.d(h,"setEffect",(function(){return ci})),n.d(h,"setAdjustment",(function(){return ui})),n.d(h,"setPluginState",(function(){return li})),n.d(h,"setClear",(function(){return di})),n.d(h,"setPriority",(function(){return pi})),n.d(h,"setPriorityAutoSelect",(function(){return mi})),n.d(h,"setLogEnable",(function(){return fi})),n.d(h,"setInstance",(function(){return hi})),n.d(h,"setInstanceState",(function(){return gi})),n.d(h,"setLedStream",(function(){return vi})),n.d(h,"setImageStream",(function(){return bi})),n.d(h,"getServerSchema",(function(){return ki})),n.d(h,"getServerConfig",(function(){return wi})),n.d(h,"getTokenList",(function(){return yi})),n.d(h,"getPendingTokens",(function(){return xi})),n.d(h,"handleTokenRequest",(function(){return Si})),n.d(h,"createToken",(function(){return Ti})),n.d(h,"renameToken",(function(){return Ci})),n.d(h,"deleteToken",(function(){return qi})),n.d(h,"deleteInstance",(function(){return _i})),n.d(h,"renameInstance",(function(){return Di})),n.d(h,"createInstance",(function(){return $i})),n.d(h,"handleInstanceUpdate",(function(){return Ai})),n.d(h,"startApiInit",(function(){return Ei})),n.d(h,"handleAuthRequired",(function(){return Ii})),n.d(h,"send",(function(){return Bi})),n.d(h,"sendAsync",(function(){return Fi}));var g={};n.r(g),n.d(g,"connect",(function(){return Gi})),n.d(g,"disconnect",(function(){return Vi})),n.d(g,"send",(function(){return Ji})),n.d(g,"sendAsync",(function(){return Ki})),n.d(g,"addEventListener",(function(){return Xi})),n.d(g,"removeEventListener",(function(){return Zi}));var v={};n.r(v),n.d(v,"connect",(function(){return ga})),n.d(v,"disconnect",(function(){return va})),n.d(v,"send",(function(){return ba})),n.d(v,"sendAsync",(function(){return ka})),n.d(v,"addEventListener",(function(){return ya})),n.d(v,"removeEventListener",(function(){return xa}));var b=n("967e"),k=n.n(b),w=(n("a481"),n("96cf"),n("fa84")),y=n.n(w),x=(n("e54f"),n("573e"),n("7d6e"),n("62f2"),n("7e6d"),n("1d88"),n("2b0e")),S=n("b05d"),T=n("5096"),C=n("9c40"),q=n("e7a9"),_=n("f20b"),D=n("d847"),$=n("2c91"),A=n("f09f"),E=n("a370"),I=n("4b7e"),L=n("eb85"),M=n("3b73"),P=n("b498"),N=n("27f9"),R=n("8572"),O=n("0016"),B=n("66e5"),F=n("0170"),j=n("4074"),H=n("4d5a"),z=n("09e3"),U=n("9989"),Q=n("9404"),W=n("e359"),G=n("1c1c"),V=n("4e73"),J=n("3980"),K=n("ddd8"),Y=n("c1d0"),X=n("7460"),Z=n("429b"),ee=n("adad"),te=n("823b"),ne=n("9564"),re=n("3786"),oe=n("65c6"),ie=n("6ac5"),ae=n("05c0"),se=n("7cbe"),ce=n("24e8"),ue=n("068f"),le=n("6b1d"),de=n("ca78"),pe=n("42a1"),me=n("eaac"),fe=n("357e"),he=n("bd08"),ge=n("db86"),ve=n("54e1"),be=n("7f67"),ke=n("714f"),we=n("12c5"),ye=n("2a19"),xe=n("696d"),Se=n("5dab"),Te=n("436b"),Ce=n("f508"),qe=n("b12a");x["a"].use(S["a"],{config:{dark:"auto"},components:{QPageScroller:T["a"],QBtn:C["a"],QBtnGroup:q["a"],QBtnDropdown:_["a"],QBar:D["a"],QSpace:$["a"],QCard:A["a"],QCardSection:E["a"],QCardActions:I["a"],QSeparator:L["a"],QExpansionItem:M["a"],QColor:P["a"],QInput:N["a"],QField:R["a"],QIcon:O["a"],QItem:B["a"],QItemLabel:F["a"],QItemSection:j["a"],QLayout:H["a"],QPageContainer:z["a"],QPage:U["a"],QDrawer:Q["a"],QHeader:W["a"],QList:G["a"],QMenu:V["a"],QResizeObserver:J["a"],QSelect:K["a"],QSlider:Y["a"],QTab:X["a"],QTabs:Z["a"],QTabPanels:ee["a"],QTabPanel:te["a"],QToggle:ne["a"],QRadio:re["a"],QToolbar:oe["a"],QToolbarTitle:ie["a"],QTooltip:ae["a"],QPopupProxy:se["a"],QDialog:ce["a"],QImg:ue["a"],QLinearProgress:le["a"],QTime:de["a"],QPopupEdit:pe["a"],QTable:me["a"],QTh:fe["a"],QTr:he["a"],QTd:ge["a"],QBanner:ve["a"]},directives:{ClosePopup:be["a"],Ripple:ke["a"],TouchSwipe:we["a"]},plugins:{Notify:ye["a"],AddressbarColor:xe["a"],AppVisibility:Se["a"],Dialog:Te["a"],Loading:Ce["a"],AppFullscreen:qe["a"]}});var _e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{scroll:!e.$q.platform.is.mobile},attrs:{id:"q-app"}},[n("router-view")],1)},De=[],$e=(n("6762"),n("2fdb"),n("447c")),Ae=n("ed08"),Ee=n("bc78"),Ie=n("e325"),Le=[Ie["f"]];var Me={name:"init",mixins:Le,data:function(){return{disconnectTimerId:null,backButtonTimer:null,darkModeTimer:null}},created:function(){var e=this;Ee["a"].setBrand("primary",Ae["h"].toHex(this.$store.getters["common/getThemeColor"])),document.addEventListener("contextmenu",(function(t){e.$store.getters["common/getDebugState"]||t.preventDefault()}))},watch:{"$store.state.common.syncSettings.dark.mode":function(e){clearInterval(this.darkModeTimer),["time","gps"].includes(e)&&("gps"===e&&this.calcGPSTime(),this.updateDarkMode(),this.darkModeTimer=setInterval(this.updateDarkMode,6e4))},"$store.state.common.syncSettings.dark.startTime":function(e){["time","gps"].includes(this.$store.getters["common/getDarkMode"])&&this.updateDarkMode()},"$store.state.common.syncSettings.dark.endTime":function(e){["time","gps"].includes(this.$store.getters["common/getDarkMode"])&&this.updateDarkMode()},"$store.state.common.syncSettings.dark.lat":function(e){"gps"==this.$store.getters["common/getDarkMode"]&&this.calcGPSTime()},"$store.state.common.syncSettings.dark.long":function(e){"gps"==this.$store.getters["common/getDarkMode"]&&this.calcGPSTime()},"$store.state.temp.ledStreamRequest":function(e){this.$socket.setLedStream(e.length>0)},"$store.state.temp.imageStreamRequest":function(e){this.$socket.setImageStream(e.length>0)},"$store.state.api.loggedin":function(e){e&&(this.$store.state.temp.imageStreamRequest.length>0&&this.$socket.setImageStream(!0),this.$store.state.temp.ledStreamRequest.length>0&&this.$socket.setLedStream(!0))}},mounted:function(){this.setAppLang(this.$store.getters["common/getLang"]),this.$store.commit("common/setDarkMode",this.$store.getters["common/getDarkMode"]),["time","gps"].includes(this.$store.getters["common/getDarkMode"])&&("gps"===this.$store.getters["common/getDarkMode"]&&this.calcGPSTime(),this.updateDarkMode(),this.darkModeTimer=setInterval(this.updateDarkMode,6e4)),this.__handlehideSplashes(),this.__handleOriginName(),this.__handleVisibility(),this.__handleCordovaOnly()},beforeDestroy:function(){document.removeEventListener("pause",this.onInvisible,!1),document.removeEventListener("resume",this.onVisible,!1)},methods:{onVisible:function(){this.stopTimer(),!this.$store.getters["temp/isConnected"]&&this.$store.getters["connection/getLastAddress"]&&this.$socket.connect(),clearInterval(this.darkModeTimer),["time","gps"].includes(this.$store.getters["common/getDarkMode"])&&("gps"==this.$store.getters["common/getDarkMode"]&&this.calcGPSTime(),this.updateDarkMode(),this.darkModeTimer=setInterval(this.updateDarkMode,6e4))},onInvisible:function(){var e=this.$store.getters["connection/getAutoDisconnect"],t=this.$store.getters["temp/getPreventAutoDisconnect"];!t&&e&&(this.stopTimer(),this.disconnectTimerId=setTimeout(this.disconnect,1e4)),clearInterval(this.darkModeTimer)},disconnect:function(e){this.$socket.disconnect()},stopTimer:function(){this.disconnectTimerId&&(clearTimeout(this.disconnectTimerId),this.disconnectTimerId=null)},onBackKeyDown:function(){var e=this;null===this.backButtonTimer?this.backButtonTimer=setTimeout((function(){e.backButtonTimer=null}),400):navigator.app.exitApp()},__handleOriginName:function(){if(null===this.$store.getters["common/getOriginName"]){var e="";this.$q.platform.is.cordova?"android"===cordova.platformId?e="Android App":"ios"===cordova.platformId?e="iOS App":console.error("setOriginName in initTasks has no value for this cordova platform",cordova.platformId):e=window.electron?"Desktop App":"Browser App",this.$store.commit("common/setOriginName",e)}},__handleVisibility:function(){this.$q.platform.is.cordova?(document.addEventListener("pause",this.onInvisible,!1),document.addEventListener("resume",this.onVisible,!1)):this.$watch("$q.appVisible",(function(e){e?this.onVisible():this.onInvisible()}))},__handlehideSplashes:function(){var e=this;this.$nextTick((function(){e.$q.platform.is.cordova?navigator.splashscreen.hide():window.electron&&setTimeout((function(){return window.electron.ipc.send("hidesplash")}),250)}))},__handleCordovaOnly:function(){var e=this;this.$nextTick((function(){e.$q.platform.is.cordova&&document.addEventListener("backbutton",e.onBackKeyDown,!1)}))},calcGPSTime:function(){var e=this.$store.getters["common/getDarkLat"],t=this.$store.getters["common/getDarkLong"],n=Object($e["getSunrise"])(e,t),r=Object($e["getSunset"])(e,t),o=("0"+n.getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2),i=("0"+r.getHours()).slice(-2)+":"+("0"+r.getMinutes()).slice(-2);this.$store.commit("common/setDarkStartTime",i),this.$store.commit("common/setDarkEndTime",o)},updateDarkMode:function(){var e=new Date,t=parseInt(this.$store.getters["common/getDarkStartTime"].replace(":","")),n=parseInt(this.$store.getters["common/getDarkEndTime"].replace(":","")),r=parseInt(("0"+e.getHours()).slice(-2)+("0"+e.getMinutes()).slice(-2));(t<n?r>=t&&r<=n:r>=t||r<=n)?this.$q.dark.isActive||this.$store.commit("common/setDark",!0):this.$q.dark.isActive&&this.$store.commit("common/setDark",!1)}}},Pe={name:"App",extends:Me},Ne=Pe,Re=n("2877"),Oe=Object(Re["a"])(Ne,_e,De,!1,null,null,null),Be=Oe.exports,Fe=n("2f62"),je=n("bfa9"),He={storedConnections:[],autoDisconnect:!0},ze=function(e){return e.storedConnections},Ue=function(e){return e.storedConnections.length?e.storedConnections[0].address:""},Qe=function(e){return e.storedConnections.length?e.storedConnections[0].password:""},We=function(e){return function(t){if(e.storedConnections.length)return"password"===t?e.storedConnections[0].password:e.storedConnections[0].token}},Ge=function(e){return e.storedConnections.length?e.storedConnections[0].token:""},Ve=function(e){return e.autoDisconnect},Je=(n("34ef"),n("5df3"),n("1c4c"),n("f751"),n("20d6"),function(e,t){var n=e.storedConnections.findIndex((function(e){return e.address===t}));if(n>0){var r=e.storedConnections.splice(n,1)[0];e.storedConnections.unshift(r[0])}else n<0&&e.storedConnections.unshift({address:t,password:"",token:""});e.storedConnections.length>4&&e.storedConnections.pop()}),Ke=function(e,t){e.storedConnections[0].password=t},Ye=function(e,t){e.storedConnections[0].token=t},Xe=function(e,t){e.storedConnections[0].password=""},Ze=function(e,t){var n=t.encrypted,r=t.type;e.storedConnections[0]="password"===r?Object.assign({},e.storedConnections[0],{password:{cipherText:Array.from(new Uint8Array(n.cipherText)),iv:Array.from(n.iv)}}):Object.assign({},e.storedConnections[0],{token:{cipherText:Array.from(new Uint8Array(n.cipherText)),iv:Array.from(n.iv)}})},et=function(e,t){e.storedConnections[0].token=""},tt=function(e,t){e.autoDisconnect=t},nt=function(e,t){var n=e.storedConnections.indexOf(t);e.storedConnections.splice(n,1)},rt=function(){var e=y()(k.a.mark((function e(t,n){var r,o,i,a,s,c,u,l;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.pw,o=n.type,i="AES-GCM",a=256,s=24,c="f1e6f5bea18388e32b14dd07d203ff892a207396262b282d07d194d860fe5b57",u="c216e441cfdae481bdc09a9c83b41f3d82dd56943f9545f7f165573d9c65a8d1",e.next=4,Object(Ae["d"])(r,c,u,i,a,s);case 4:l=e.sent,t.commit("setLastCrypt",{encrypted:l,type:o});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ot=function(){var e=y()(k.a.mark((function e(t,n){var r,o,i,a,s,c,u,l,d,p;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.type,o="AES-GCM",i=256,a="f1e6f5bea18388e32b14dd07d203ff892a207396262b282d07d194d860fe5b57",s="c216e441cfdae481bdc09a9c83b41f3d82dd56943f9545f7f165573d9c65a8d1",c=t.getters["getLastCrypt"](r),u="",!c){e.next=11;break}return l=new Uint8Array(c.cipherText),d=new Uint8Array(c.iv),p={cipherText:l.buffer,iv:d},e.next=10,Object(Ae["c"])(p,a,s,o,i);case 10:u=e.sent;case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),it={namespaced:!0,state:He,getters:r,mutations:o,actions:i},at={uiSettings:{adminAppMode:!1,themeColor:"hyperion",backToTop:!1},capture:{width:75,height:50,hz:5,source:void 0},originName:null,priority:50,selectedRemoteTab:"tab-1",lastColor:{r:255,g:0,b:0},effBlacklist:[],debug:!1,syncSettings:{favColors:[],dark:{mode:"platform",lat:"",long:"",startTime:"18:00",endTime:"06:00"},lang:void 0}},st=function(e){return e.syncSettings.lang},ct=function(e){return e.syncSettings.dark.mode},ut=function(e){return["platform","time","gps","enabled","disabled"]},lt=function(e){return[e.syncSettings.dark.startTime,e.syncSettings.dark.endTime]},dt=function(e){return e.syncSettings.dark.startTime},pt=function(e){return e.syncSettings.dark.endTime},mt=function(e){return e.syncSettings.dark.lat},ft=function(e){return e.syncSettings.dark.long},ht=function(e){return e.uiSettings.themeColor},gt=function(e){return e.uiSettings.backToTop},vt=function(e){return e.originName},bt=function(e){return e.priority},kt=function(e){return e.selectedRemoteTab},wt=function(e){return e.effBlacklist},yt=function(e){return e.lastColor},xt=function(e){return e.uiSettings.adminAppMode},St=function(e){return e.syncSettings.favColors},Tt=function(e){return e.debug},Ct=n("ff52"),qt=function(e,t){Ct["a"].set(t)},_t=function(e,t){switch(t){case"platform":Ct["a"].set("auto");break;case"enabled":Ct["a"].set(!0);break;case"disabled":Ct["a"].set(!1);break;case"time":Ct["a"].set(!1);break;default:break}e.syncSettings.dark.mode=t},Dt=function(e,t){e.syncSettings.dark.startTime=t[0],e.syncSettings.dark.endTime=t[1]},$t=function(e,t){e.syncSettings.dark.startTime=t},At=function(e,t){e.syncSettings.dark.endTime=t},Et=function(e,t){e.syncSettings.dark.lat=t},It=function(e,t){e.syncSettings.dark.long=t},Lt=function(e,t){e.uiSettings.themeColor=t},Mt=function(e,t){e.uiSettings.backToTop=t},Pt=function(e,t){e.syncSettings.lang=t,document&&(document.documentElement.lang=t)},Nt=function(e,t){e.originName=t},Rt=function(e,t){e.priority=t},Ot=function(e,t){e.selectedRemoteTab=t},Bt=function(e,t){e.effBlacklist=t},Ft=function(e,t){e.lastColor=t},jt=function(e,t){e.uiSettings.adminAppMode=t},Ht=function(e,t){e.debug=t},zt={namespaced:!0,state:at,getters:a,mutations:s,actions:c},Ut={conState:{DISCONNECTED:"DISCONNECTED",CONNECTING:"CONNECTING",CONNECTED:"CONNECTED"}},Qt=function(e,t){e.connectState=t?Ut.conState.CONNECTED:Ut.conState.DISCONNECTED},Wt=function(e,t){e.connectState=t?Ut.conState.CONNECTING:Ut.conState.DISCONNECTED},Gt=function(e,t){e.initialConnected=t},Vt=function(e,t){e.activeInstance=t},Jt=function(e,t){e.lastLedColors=t},Kt=function(e,t){e.preventAutoDisconnect=t},Yt=function(e,t){e.openLoginDialog=t},Xt=function(e,t){e.openConnectDialog=t},Zt=function(e,t){e.openTokenHandler=t},en=function(e,t){e.btnMoreEntries=t},tn=function(e,t){t.state&&!e.ledStreamRequest.includes(t.uuid)?e.ledStreamRequest.push(t.uuid):!t.state&&e.ledStreamRequest.includes(t.uuid)&&e.ledStreamRequest.splice(e.ledStreamRequest.indexOf(t.uuid),1)},nn=function(e,t){t.state&&!e.imageStreamRequest.includes(t.uuid)?e.imageStreamRequest.push(t.uuid):!t.state&&e.imageStreamRequest.includes(t.uuid)&&e.imageStreamRequest.splice(e.imageStreamRequest.indexOf(t.uuid),1)},rn={initialConnected:!1,connectState:"DISCONNECTED",lastLedColors:null,activeInstance:0,preventAutoDisconnect:!1,openLoginDialog:!1,openConnectDialog:!1,openTokenHandler:!1,imageStreamRequest:[],ledStreamRequest:[],btnMoreEntries:[],availThemeColors:["hyperion","indigo","cyan","teal","green","lime","amber","orange","deep-orange","red","pink","purple","deep-purple","brown"],logFilterOptions:[{label:"NETWORK",value:"JSONSERVER:JSONCLIENTCONNECTION:WEBSOCKET:WEBSERVER"},{label:"PLUGINS",value:"PLUGINS:PLUGIN"},{label:"EFFECTS",value:"EFFECTENGINE:EFFECT"}]},on=function(e){return e.connectState==Ut.conState.CONNECTED},an=function(e){return e.connectState==Ut.conState.CONNECTING},sn=function(e){return e.connectState},cn=function(e){return e.availThemeColors},un=function(e){return e.logFilterOptions},ln=function(e){return e.activeInstance},dn=function(e){return e.lastLedColors},pn=function(e){return e.preventAutoDisconnect},mn=function(e){},fn=function(e){return e.btnMoreEntries},hn=function(){var e=y()(k.a.mark((function e(t){return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit("openConnetDialog",!0),setTimeout((function(){t.commit("openConnectDialog",!1)}),1e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gn=function(){var e=y()(k.a.mark((function e(t){return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit("openLoginDialog",!0),setTimeout((function(){t.commit("openLoginDialog",!1)}),1e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vn=function(){var e=y()(k.a.mark((function e(t){return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit("openTokenHandler",!0),setTimeout((function(){t.commit("openTokenHandler",!1)}),1e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bn={namespaced:!0,state:rn,getters:l,mutations:u,actions:d},kn=n("a034"),wn={sysInfo:{hyperion:{build:"",gitremote:"",jsonrpc_version:"",time:"",version:"0.0.1",id:""},system:{architecture:"",hostName:"",kernelType:"",kernelVersion:"",prettyName:"",productType:"",productVersion:"",wordSize:""}},serverInfo:kn,serverSchema:{},serverConfig:{},logEntries:[],activeLogFilters:[],loggedin:!1,loginReady:!1,tokenList:[],pendingTokens:[]},yn=(n("ac4d"),n("8a81"),n("ac6a"),n("7f7f"),function(e){return e.sysInfo}),xn=function(e){return e.serverSchema},Sn=function(e){return e.serverConfig},Tn=function(e){return e.sysInfo.hyperion.version},Cn=function(e){return e.serverInfo.components},qn=function(e){return e.serverInfo.components.filter((function(e){return"ALL"===e.name}))[0].enabled},_n=function(e){return e.logEntries},Dn=function(e){return e.activeLogFilters},$n=function(e){if(null==e.activeLogFilters||0===e.activeLogFilters.length)return e.logEntries;var t=e.logEntries.filter((function(t){var n=!1;return e.activeLogFilters.forEach((function(e){e.includes(t.loggerName)&&(n=!0)})),n}));return t},An=function(e){return e.serverInfo.effects},En=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e.serverInfo.effects[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t.push({label:s.name,value:s.name})}}catch(c){r=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t},In=function(e,t,n,r){var o=[],i=!0,a=!1,s=void 0;try{for(var c,u=e.serverInfo.effects[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;r["common/getEffBlacklist"].includes(l.name)||o.push({label:l.name,value:l.name})}}catch(d){a=!0,s=d}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return o},Ln=function(e){return e.serverInfo.adjustment},Mn=function(e){return e.serverInfo.adjustment[0].brightness},Pn=function(e){return e.serverInfo.plugins},Nn=function(e){return e.serverInfo.instance},Rn=function(e,t,n,r){var o=r["temp/getActiveInstance"];return e.serverInfo.instance.filter((function(e){return e.instance===o}))[0]},On=function(e){return e.serverInfo.leds},Bn=function(e){return e.loggedin},Fn=function(e){return e.tokenList},jn=function(e){return e.pendingTokens},Hn=function(e){return e.loginReady},zn=function(e){return e.serverInfo.priorities},Un=function(e){return e.serverInfo.priorities_autoselect},Qn=(n("cadf"),n("06db"),n("456d"),function(e,t){e.sysInfo=t}),Wn=function(e,t){e.serverInfo=t},Gn=function(e,t){e.serverSchema=t},Vn=function(e,t){e.serverConfig=t},Jn=function(e,t){e.serverInfo.components.forEach((function(e,n){e.name===t.name&&(e.enabled=t.enabled)}))},Kn=function(e,t){t.forEach((function(t){e.logEntries.push(t)}))},Yn=function(e,t){var n=Object.keys(t)[0];t[n].name?x["a"].set(e.serverInfo.plugins,n,t[n]):"running"in t[n]?e.serverInfo.plugins[n].running=t[n].running:"removed"in t[n]&&x["a"].delete(e.serverInfo.plugins,n)},Xn=function(e,t){e.serverInfo.instance=t},Zn=function(e,t){e.serverInfo.effects=t},er=function(e,t){e.serverInfo.adjustment=t},tr=function(e,t){e.serverInfo.priorities=t.priorities,e.serverInfo.priorities_autoselect=t.priorities_autoselect},nr=function(e,t){e.activeLogFilters=t},rr=function(e){e.logEntries=[]},or=function(e,t){e.serverInfo.leds=t},ir=function(e,t){e.serverInfo.adjustment[0].brightness=t},ar=function(e,t){e.loggedin=t},sr=function(e,t){e.tokenList=t},cr=function(e,t){e.pendingTokens.push(t)},ur=function(e,t){var n=e.pendingTokens.filter((function(e){return e.id==t})),r=e.pendingTokens.findIndex((function(e){return e.id==t}));r>-1&&(clearTimeout(n[0].timer),e.pendingTokens.splice(r,1))},lr=function(e,t){e.loginReady=t},dr=(n("7514"),function(e,t){Array.isArray(t)?t.forEach((function(t){e.getters["getPendingTokens"].find((function(e){return e.id==t.id}))||(t=Object.assign(t,{timer:setTimeout((function(){return e.commit("removePendingToken",t.id)}),t.timeout)}),e.commit("setPendingToken",t))})):void 0!==t&&(e.getters["getPendingTokens"].find((function(e){return e.id==t.id}))||(t=Object.assign(t,{timer:setTimeout((function(){return e.commit("removePendingToken",t.id)}),t.timeout)}),e.commit("setPendingToken",t)),""==t.comment&&e.commit("removePendingToken",t.id))}),pr={namespaced:!0,state:wn,getters:p,mutations:m,actions:f};x["a"].use(Fe["a"]);var mr=null;window&&window.localStorage?(mr=window.localStorage,console.log("Use window.localStorage for vuex-persist")):console.error("No storageDriver for vuex-persist found");var fr=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){var n={didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}};e(n)}),1)},hr=new je["a"]({storage:mr,modules:["connection","common"],saveState:function(e,t,n){fr((function(){var r=JSON.stringify(t);n.setItem(e,r)}))}}),gr=new Fe["a"].Store({modules:{connection:it,common:zt,temp:bn,api:pr},plugins:[hr.plugin],strict:!1});var vr,br=gr,kr=n("8c4f"),wr=n("cf57"),yr=n("c47a"),xr=n.n(yr),Sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{view:"hHh lpr fFf"}},[n("q-header",{attrs:{elevated:""}},[n("top-bar-electron"),n("q-toolbar",[n("q-btn",{attrs:{flat:"",dense:"",round:""},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}},[n("q-icon",{attrs:{name:"menu"}})],1),n("q-toolbar-title",[n("q-icon",{staticStyle:{"font-size":"1.5rem","padding-right":"5px"},attrs:{name:e.$route.meta.icon}}),e._v("\n        "+e._s(e.$t(e.$route.meta.title))+"\n        ")],1),n("btn-instance-control"),n("btn-more")],1),n("status-bar")],1),n("q-drawer",{attrs:{"show-if-above":"",side:"left",bordered:"","content-class":e.$q.dark.isActive?"bg-grey-9":"bg-grey-3",breakpoint:992},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[n("q-list",{attrs:{link:"","inset-delimiter":""}},[n("q-item",{attrs:{clickable:"",exact:"",to:"/"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"dashboard"}})],1),n("q-item-section",[e._v("\n          "+e._s(e.$t("pages.dashboard"))+"\n        ")])],1),n("q-item",{attrs:{clickable:"",to:"/control"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"fas fa-gamepad"}})],1),n("q-item-section",[e._v("\n          "+e._s(e.$t("pages.control"))+"\n        ")])],1),e.getAdminAppMode?n("q-expansion-item",{attrs:{"expand-separator":"",icon:"settings","header-class":{"q-router-link--active":e.$route.path.includes("settings")},"default-opened":e.$route.path.includes("settings"),label:e.$t("pages.settings"),"content-inset-level":1}},[e._l(e.pages,(function(t){return[n("q-item",{key:t.route,attrs:{clickable:"",to:t.route}},[n("q-item-section",[e._v("\n              "+e._s(e.$t("pages."+t.label))+"\n            ")])],1)]}))],2):e._e(),e.getAdminAppMode?e._e():n("q-item",{attrs:{clickable:"",to:"/settings/app"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"settings"}})],1),n("q-item-section",[e._v("\n          "+e._s(e.$t("pages.settings"))+"\n        ")])],1),n("q-item",{attrs:{clickable:"",to:"/about"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"info"}})],1),n("q-item-section",[e._v("\n          "+e._s(e.$t("pages.about"))+"\n        ")])],1)],1)],1),n("q-page-container",[n("router-view")],1),this.$store.getters["common/isBacktoTop"]?n("q-page-scroller",{attrs:{position:"bottom-right","scroll-offset":400,offset:[18,18]}},[n("q-btn",{attrs:{fab:"",icon:"keyboard_arrow_up",color:e.$store.getters["common/getThemeColor"]}})],1):e._e(),e.getAdminAppMode?n("token-handler"):e._e()],1)},Tr=[],Cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showBar?n("q-banner",{staticClass:"text-white",class:e.barColor,scopedSlots:e._u([{key:"action",fn:function(){return[e.$store.getters["temp/isConnected"]?e._e():n("q-btn",{attrs:{flat:"",color:"white",label:e.$t("label.connect")},on:{click:function(t){return e.$refs.connectDialog.connect()}}}),!e.$store.getters["api/getLoginState"]&&e.$store.getters["temp/isConnected"]?n("q-btn",{attrs:{flat:"",color:"white",label:e.$t("label.login")},on:{click:function(t){return e.$refs.loginDialog.openDialog()}}}):e._e()]},proxy:!0}],null,!1,732805413)},[e._v("\n    "+e._s(e.getStatusText)+"\n    ")]):e._e(),n("connect-dialog",{ref:"connectDialog"}),n("login-dialog",{ref:"loginDialog"})],1)},qr=[],_r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{staticClass:"flex flex-center",attrs:{persistent:"",padding:""},model:{value:e.showConnectDialog,callback:function(t){e.showConnectDialog=t},expression:"showConnectDialog"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("label.connect")))])]),n("q-card-section",{staticClass:"q-dialog__message"},[e._v("\n      "+e._s(e.$t("conn.label"))+"\n    ")]),n("q-card-section",[n("q-input",{attrs:{autofocus:e.$q.platform.is.desktop,spellcheck:"false",label:e.$t("conn.webserverAdr"),"stack-label":"",placeholder:e.isPageHTTPS?"192.168.0.20:8092":"192.168.0.20:8090",hint:e.isPageHTTPS?e.$t("conn.usehttps",{port:"8092"}):""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.connect(t)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"wifi"}})]},proxy:!0}]),model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e.getStoredConnections.length?n("q-card-section",[n("div",{staticClass:"text-center"},[n("q-list",[n("q-expansion-item",{attrs:{label:e.$t("conn.storedConnections"),"header-class":"q-dialog__message"}},e._l(e.getStoredConnections,(function(t,r){return n("div",{key:r,staticStyle:{"border-top":"1px #fff6 solid",padding:"10px"}},[n("div",[e._v("\n                "+e._s(t.address)+"\n              ")]),n("q-btn-group",{staticStyle:{"margin-top":"5px"},attrs:{flat:""}},[n("q-btn",{attrs:{flat:"",color:"primary",label:e.$t("label.connect"),loading:e.getConnectionState},on:{click:function(t){return e.connect(r+1)}}}),n("q-btn",{attrs:{flat:"",color:"primary",icon:"fas fa-trash-alt"},on:{click:function(t){return e.deleteEntry(r+1)}}})],1)],1)})),0)],1)],1)]):e._e(),n("q-card-actions",{attrs:{align:"center"}},[n("q-btn",{attrs:{disable:0==e.address.length,flat:"",color:"primary",label:e.$t("label.connect"),loading:e.getConnectionState},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.connect(t)}}}),e.$q.platform.is.cordova||e.$q.platform.is.electron?n("q-btn",{attrs:{flat:"",color:"primary",loading:e.isSSDPSearching},on:{click:e.searchSSDP}},[n("q-icon",{attrs:{name:"search"}})],1):e._e()],1)],1)],1)},Dr=[],$r=n("8993"),Ar=n.n($r),Er={name:"ConnectDialog",mixins:[Ie["i"],Ie["b"]],data:function(){return{showConnectDialog:!1,address:this.$store.getters["connection/getLastAddress"]}},created:function(){},mounted:function(){this.address?this.connect():(this.$q.platform.is.cordova||window.electron)&&""===this.address?(this.showConnectDialog=!0,this.searchSSDP()):this.showConnectDialog=!0},computed:{getConnectionState:function(){return this.$store.getters["temp/getConnectingState"]},getStoredConnections:function(){return this.$store.getters["connection/getStoredConnections"].filter((function(e,t){return t>0}))},isPageHTTPS:function(){return"https:"===document.location.protocol},getConnectState:function(){return this.$store.getters["temp/getConnectState"]}},watch:{getConnectState:function(e,t){this.$store.getters["temp/isEmbed"]||(this.showConnectDialog="DISCONNECTED"===e||"CONNECTING"===e)},"$store.state.temp.openConnectDialog":function(e){e&&!this.$store.getters["temp/isEmbed"]&&(this.showConnectDialog=!0)}},methods:{connect:function(e){this.address&&("object"===Ar()(e)?this.$socket.connect(this.address):"string"===typeof e?this.$socket.connect(e):this.$socket.connect(this.address))},searchSSDP:function(){var e=y()(k.a.mark((function e(){var t,n,r=this;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.searchHyperionServer().catch((function(e){Ae["e"].error(r.$t("conn.ssdpError",[e]),"wifi")}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:if(0!==t.length){e.next=8;break}return Ae["e"].error(this.$t("conn.ssdpNoResults"),"wifi"),e.abrupt("return");case 8:return e.next=10,this.openSelectionDialog({title:this.$t("conn.ssdpDialogTitle"),msg:this.$t("conn.ssdpDialogText"),type:"radio",model:t[0].value,items:t});case 10:n=e.sent,n&&(this.address=n,this.connect());case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteEntry:function(e){this.$store.commit("connection/deleteStoredConnection",e)},openDialog:function(){this.showConnectDialog=!0}}},Ir=Er,Lr=Object(Re["a"])(Ir,_r,Dr,!1,null,null,null),Mr=Lr.exports,Pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-dialog",{staticClass:"flex flex-center",attrs:{persistent:"",padding:""},on:{"before-hide":e.stopActions},model:{value:e.showLoginDialog,callback:function(t){e.showLoginDialog=t},expression:"showLoginDialog"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("label.login")))])]),n("q-card-section",{staticClass:"q-dialog__message"},[e._v("\n        "+e._s(e.getAdminAppMode?e.$t("login.passwordHint"):e.$t("login.tokenHint"))+"\n      ")]),n("q-card-section",[n("q-input",{staticStyle:{display:"none"},attrs:{type:"text",name:"username",spellcheck:"false",label:"Username","stack-label":""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("q-input",{attrs:{autofocus:e.$q.platform.is.desktop,type:e.isPwd?"password":"text",spellcheck:"false",label:e.getAdminAppMode?e.$t("login.password"):e.$t("login.token"),"stack-label":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{attrs:{disable:!e.isInputValid(),color:"primary",flat:"",label:e.$t("label.login")},on:{click:e.login}}),e.getAdminAppMode?e._e():n("q-btn",{attrs:{label:e.$t("btn.createToken"),color:"primary",flat:""},on:{click:e.createToken}}),e.$store.getters["temp/isEmbed"]?e._e():n("q-toggle",{staticClass:"q-pa-md",attrs:{color:"red",label:"(WIP) "+e.$t("login.adminmode"),"left-label":""},model:{value:e.modAdminMode,callback:function(t){e.modAdminMode=t},expression:"modAdminMode"}})],1)],1)],1),n("q-dialog",{attrs:{"no-esc-dismiss":"","no-backdrop-dismiss":""},on:{"before-hide":e.stopActions},model:{value:e.showTokenDialog,callback:function(t){e.showTokenDialog=t},expression:"showTokenDialog"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("btn.createToken")))])]),n("q-card-section",{staticClass:"q-dialog__message"},[e._v("\n        "+e._s(e.$t("login.tokWizMsg"))+"."),n("br"),e._v("\n        "+e._s(e.$t("login.tokWizMsg2"))+"\n        "),n("br"),n("br"),e._v("\n        "+e._s(e.$t("login.app"))+": "),n("strong",[e._v(e._s(e.tokenComment))]),n("br"),e._v("\n        "+e._s(e.$t("login.code"))+": "),n("strong",[e._v(e._s(e.tokenId))]),n("br"),n("br"),n("q-linear-progress",{staticClass:"q-mt-sm",staticStyle:{height:"10px"},attrs:{dark:!1,stripe:"",value:e.requestTimerCount,color:"warning"}})],1),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{attrs:{color:"primary",flat:"",label:e.$t("btn.openWui")},on:{click:e.openHyperionWebUi}}),n("q-btn",{attrs:{color:"primary",flat:"",label:e.$q.lang.label.cancel},on:{click:e.createTokenAbort}})],1)],1)],1)],1)},Nr=[],Rr=n("1732"),Or={name:"LoginDialog",mixins:[Ie["g"]],data:function(){return{showLoginDialog:!1,isPwd:!0,requestTimerCount:1,requestTimer:null,tokenId:"",tokenComment:"",showTokenDialog:!1,password:"",username:"Hyperion",userRequested:!1}},props:{asAdmin:{type:Boolean,default:!1}},created:function(){Ae["a"].$on("authorize-requestToken",this.handleRequestTokenResponse)},beforeDestroy:function(){Ae["a"].$off("authorize-requestToken",this.handleRequestTokenResponse),this.stopActions()},mounted:function(){this.asAdmin&&this.$store.commit("common/setAdminAppMode",this.asAdmin)},computed:{getAuthState:function(){return this.$store.getters["temp/getConnectingState"]},getAdminAppMode:function(){return this.$store.getters["common/getAdminAppMode"]},modAdminMode:{get:function(){return this.$store.getters["common/getAdminAppMode"]},set:function(e){this.$store.commit("common/setAdminAppMode",e),this.getLoginCred(),this.$socket.logout(),!e&&this.$route.path.includes("settings")&&this.$router.push("/").catch((function(){}))}},loginRequired:function(){return this.$store.getters["temp/isConnected"]&&!this.$store.getters["api/getLoginState"]&&this.$store.getters["api/getLoginReady"]}},watch:{loginRequired:function(e,t){e?(this.showLoginDialog=!0,this.getLoginCred(!this.userRequested),this.userRequested=!1):this.showLoginDialog=!1},"$store.state.temp.openLoginDialog":function(e){e&&(this.userRequested=!0,this.$socket.logout())}},methods:{login:function(){var e=y()(k.a.mark((function e(t){var n,r,o;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isInputValid()){e.next=2;break}return e.abrupt("return");case 2:if(n=this.$store.getters["common/getAdminAppMode"],"string"===typeof t&&(this.password=t),!n){e.next=10;break}return e.next=7,this.$socket.login(this.password);case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,this.$socket.loginToken(this.password);case 12:r=e.sent;case 13:r.success?(o=n?"password":"token",this.$store.dispatch("connection/setLastPassword",{pw:this.password,type:o}).catch((function(e){return console.error(e.message)})),this.$store.commit("api/setLoginState",!0),this.$socket.startApiInit(!0)):(n?this.$store.commit("connection/resetLastPassword"):this.$store.commit("connection/resetLastToken"),this.$q.notify({message:this.$t("login.failed"),icon:"fas fa-sign-in-alt",color:"red"}));case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),isInputValid:function(){var e=this.$store.getters["common/getAdminAppMode"];if(e){if(this.password.length<8)return!1}else if(36!==this.password.length)return!1;return!0},getLoginCred:function(e){var t=this,n=this.getAdminAppMode?"password":"token";this.$store.dispatch("connection/getLastPassword",{type:n}).then((function(n){t.password=n,e&&t.login(n)}))},createToken:function(){var e=this;this.$store.commit("temp/setPreventAutoDisconnect",!0);var t=Object(Rr["a"])();this.tokenId=t.slice(t.length-5),this.tokenComment=this.$store.getters["common/getOriginName"],this.$socket.requestToken(this.tokenComment,this.tokenId),this.showTokenDialog=!0,this.requestTimer=setInterval((function(){e.requestTimerCount-=1/180}),1e3)},createTokenAbort:function(){this.showTokenDialog=!1,clearTimeout(this.requestTimer),this.requestTimerCount=1,""!==this.tokenId&&this.$socket.cancelRequestToken(this.tokenComment,this.tokenId),this.tokenId=""},handleRequestTokenResponse:function(e){this.createTokenAbort(),e.success?(this.password=e.info.token,this.login(e.info.token),Ae["e"].success(this.$t("login.tokCreaSucc"))):Ae["e"].error(this.$t("login.tokCreaFail"))},stopActions:function(){this.$store.commit("temp/setPreventAutoDisconnect",!1),this.createTokenAbort()},openHyperionWebUi:function(){var e=this.$store.getters["connection/getLastAddress"];try{new URL(e)}catch(t){e="http://"+e}this.openUrl(e)},openDialog:function(){this.userRequested=!0,this.showLoginDialog=!0}}},Br=Or,Fr=Object(Re["a"])(Br,Pr,Nr,!1,null,null,null),jr=Fr.exports,Hr={name:"StatusBar",components:{"connect-dialog":Mr,"login-dialog":jr},data:function(){return{barColor:"bg-positive",showBar:!0}},watch:{getStatusText:function(e,t){}},computed:{getStatusText:function(){return this.$store.getters["temp/isConnected"]?this.$store.getters["temp/getConnectingState"]?(this.barColor="bg-positive",this.showBar=!0,this.$t("conn.connecting")):this.$store.getters["api/getLoginState"]?void(this.showBar=!1):(this.barColor="bg-red",this.showBar=!0,this.$t("login.required")):(this.barColor="bg-red",this.showBar=!0,this.$t("conn.notconnected"))}}},zr=Hr,Ur=Object(Re["a"])(zr,Cr,qr,!1,null,null,null),Qr=Ur.exports,Wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"more_vert"}},[n("item-streamer",{ref:"streamer",on:{visible:function(t){return e.streamerVisible=t}}}),n("q-menu",[n("q-list",[n("q-item",{attrs:{clickable:""}},[n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{name:"keyboard_arrow_left"}})],1),n("q-item-section",[e._v("Quick Access")]),n("q-menu",{attrs:{anchor:"top right",self:"top left"}},[n("q-list",[n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return t.stopPropagation(),e.$store.dispatch("temp/openLoginDialog")}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"fas fa-sign-out-alt"}})],1),n("q-item-section",[e._v("\n                "+e._s(e.$t("label.logout"))+"\n              ")])],1),e.$store.getters["temp/isEmbed"]?e._e():n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return t.stopPropagation(),e.$socket.disconnect()}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"wifi"}})],1),n("q-item-section",[e._v("\n                "+e._s(e.$t("btn.disconnect"))+"\n              ")])],1),e.$q.fullscreen.isCapable?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.$q.fullscreen.toggle()}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:e.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen"}})],1),n("q-item-section",[e._v("\n                "+e._s(e.$t("btn.toggleFullscreen"))+"\n              ")])],1):e._e()],1)],1)],1),e.streamerVisible?n("q-item",{attrs:{clickable:""},on:{click:function(t){return t.stopPropagation(),e.openStreamer()}}},[n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{name:"videocam"}})],1),n("q-item-section",[e._v("\n          "+e._s(e.$t("capture.title"))+"\n        ")])],1):e._e(),e.getAdminAppMode&&e.$store.getters["api/getPendingTokens"].length>0?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.$store.dispatch("temp/openTokenHandler")}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"fas fa-key"}})],1),n("q-item-section",[e._v("\n          "+e._s(e.$t("conf.auth.pendToks"))+"\n        ")])],1):e._e(),e.$store.getters["temp/getBtnMoreEntries"].length>0?n("q-separator"):e._e(),e._l(e.$store.getters["temp/getBtnMoreEntries"],(function(t){return[n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:t.label,attrs:{clickable:""},on:{click:function(n){return e.emitEvent(t.event)}}},[t.icon?n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:t.icon}})],1):e._e(),n("q-item-section",[e._v("\n            "+e._s(e.$t(t.label))+"\n          ")])],1)]}))],2)],1)],1)},Gr=[],Vr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"scanvas"}),n("video",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"svideo",attrs:{autoplay:""}}),n("q-dialog",{model:{value:e.showOptionDialog,callback:function(t){e.showOptionDialog=t},expression:"showOptionDialog"}},[n("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[n("q-card-section",{staticClass:"text-h6"},[e._v("\n        "+e._s(e.$t("capture.title"))+"\n      ")]),n("q-card-section",{staticClass:"q-dialog__message"},[e._v("\n        "+e._s(e.$t("capture.optionMsg"))+"\n      ")]),n("q-card-section",[n("div",[e._v(e._s(e.$t("capture.lessIsMore")))]),n("q-list",[n("q-item",[n("q-item-section",[n("q-item-label",[e._v(e._s(e.$t("capture.imageHeight")))]),n("q-slider",{attrs:{value:e.conImageHeight,min:10,max:500,step:10,label:""},on:{change:function(t){e.conImageHeight=t}}})],1)],1),n("q-item",[n("q-item-section",[n("q-item-label",[e._v(e._s(e.$t("capture.imageWidth")))]),n("q-slider",{attrs:{value:e.conImageWidth,min:10,max:500,step:10,label:""},on:{change:function(t){e.conImageWidth=t}}})],1)],1),n("q-item",[n("q-item-section",[n("q-item-label",[e._v(e._s(e.$t("capture.hz")))]),n("q-slider",{attrs:{value:e.conImageHz,min:1,max:10,label:""},on:{change:function(t){e.conImageHz=t}}})],1)],1)],1)],1),n("q-card-section",[n("div",[e._v(e._s(e.$t("capture.source")))]),e.hasDisplayMedia?n("q-radio",{attrs:{val:"platform",label:e.$t("capture.platform")},model:{value:e.conSource,callback:function(t){e.conSource=t},expression:"conSource"}}):e._e(),e.hasUserMedia?n("q-radio",{attrs:{val:"camera",label:e.$t("capture.camera")},model:{value:e.conSource,callback:function(t){e.conSource=t},expression:"conSource"}}):e._e()],1),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$q.lang.label.cancel}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",disable:!e.conSource,label:e.$q.lang.label.ok},on:{click:e.toggleStream}})],1)],1)],1),e.$q.platform.is.electron?n("q-dialog",{attrs:{"no-esc-dismiss":"","no-backdrop-dismiss":""},model:{value:e.showSelectionDialog,callback:function(t){e.showSelectionDialog=t},expression:"showSelectionDialog"}},[n("q-card",[n("q-card-section",{staticClass:"text-h6"},[e._v("\n        "+e._s(e.$t("capture.source"))+"\n      ")]),n("q-card-section",{staticClass:"q-dialog__message"},[e._v("\n        "+e._s(e.$t("capture.selectMsg"))+"\n      ")]),n("q-card-section",[n("div",{staticClass:"row justify-center content-center"},[e._l(e.selectionList,(function(t,r){return[n("div",{key:r,staticClass:"q-ma-sm text-center"},[n("video",{staticClass:"v-zoom cursor-pointer",staticStyle:{height:"150px",width:"230px"},attrs:{autoplay:""},domProps:{srcObject:t.stream},on:{click:function(n){return e.handleStreamSelection(t.stream)}}}),n("div",{staticClass:"text-subtitle2",staticStyle:{width:"230px"}},[e._v("\n                "+e._s(t.name))])])]}))],2)]),n("q-card-actions",{staticClass:"full-width",attrs:{align:"center"}},[n("q-btn",{attrs:{flat:"",label:e.$q.lang.label.cancel},on:{click:function(t){e.handleStreamSelection(null)}}})],1)],1)],1):e._e()],1)},Jr=[],Kr=(n("28a5"),{name:"Streamer",data:function(){return{showOptionDialog:!1,showSelectionDialog:!1,selectionList:[],canvas:null,canvasCtx:null,idata:null,recorder:null,screenshotTimer:null,streamImageHeight:0,streamImageWidth:0,conImageWidth:this.$store.state.common.capture.width,conImageHeight:this.$store.state.common.capture.height,conImageHz:this.$store.state.common.capture.hz,conSource:this.$store.state.common.capture.source,streaming:!1}},mounted:function(){this.hasCaptureInterface&&this.initCanvas()},beforeDestroy:function(){this.handleStreamSelection(null)},computed:{hasDisplayMedia:function(){return window&&window.navigator.mediaDevices&&window.navigator.mediaDevices.getDisplayMedia},hasUserMedia:function(){return window&&window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia},hasCaptureInterface:function(){var e=this.hasDisplayMedia||this.hasUserMedia;return this.$emit("visible",e),e}},methods:{showOptDialog:function(){this.showOptionDialog=!0},initCanvas:function(){this.canvas=this.$refs.scanvas,this.canvasCtx=this.canvas.getContext("2d")},toggleStream:function(){this.streaming?this.stopCapture():this.startCapture()},handleStreamSelection:function(e){var t=this;if(null==e){var n=!0,r=!1,o=void 0;try{for(var i,a=this.selectionList[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.stopStream(s.stream)}}catch(h){r=!0,o=h}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return this.stopCapture(),this.showSelectionDialog=!1,void(this.selectionList=[])}var c=!0,u=!1,l=void 0;try{for(var d,p=this.selectionList[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value;e.id!==m.stream.id&&this.stopStream(m.stream)}}catch(h){u=!0,l=h}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}this.$refs.svideo.srcObject=e;var f=e.getVideoTracks()[0];f.onended=function(){return t.stopCapture()},this.$refs.svideo.onloadedmetadata=function(e){window.setTimeout((function(){return t.onCapabilitiesReady(f.getSettings())}),500)},this.showSelectionDialog=!1},stopStream:function(e){e.getTracks().forEach((function(e){return e.stop()}))},startCapture:function(){var e=y()(k.a.mark((function e(){var t,n,r,o,i;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"platform"!=this.conSource){e.next=20;break}if(!window.electron){e.next=13;break}return window.electron.getFocusedWindow(),e.next=6,window.electron.getSources({types:["window","screen"],thumbnailSize:{width:0,height:0}});case 6:return t=e.sent,e.next=9,this.getElectronSources(t);case 9:window.electron.focusLastWindow(),this.showSelectionDialog=!0,e.next=18;break;case 13:return n={video:{cursor:"never",width:this.conImageWidth,height:this.conImageHeight,frameRate:this.conImageHz},audio:!1},e.next=16,window.navigator.mediaDevices.getDisplayMedia(n);case 16:r=e.sent,this.handleStreamSelection(r);case 18:e.next=26;break;case 20:return o={audio:!1,video:{width:{ideal:this.conImageWidth},height:{ideal:this.conImageHeight}}},e.next=23,window.navigator.mediaDevices.getUserMedia(o);case 23:i=e.sent,console.log("myStream",i),this.handleStreamSelection(i);case 26:e.next=33;break;case 28:return e.prev=28,e.t0=e["catch"](0),this.$q.notify({message:"Error: ".concat(e.t0.name," - ").concat(e.t0.message),icon:"videocam",color:"negative"}),this.handleStreamSelection(null),e.abrupt("return");case 33:case"end":return e.stop()}}),e,this,[[0,28]])})));function t(){return e.apply(this,arguments)}return t}(),onCapabilitiesReady:function(e){this.streamImageWidth=e.width,this.streamImageHeight=e.height,this.canvas.width=this.streamImageWidth,this.canvas.height=this.streamImageHeight,this.updateScrTimer(!1),this.streaming=!0,this.$q.notify({message:"Capturing started (W:"+this.streamImageWidth+"px | H:"+this.streamImageHeight+"px)",icon:"videocam",color:"positive"}),this.$store.commit("temp/setPreventAutoDisconnect",!0)},stopCapture:function(e){this.streaming=!1,this.$store.commit("temp/setPreventAutoDisconnect",!1),this.updateScrTimer(!0),this.$refs.svideo.srcObject&&(this.stopStream(this.$refs.svideo.srcObject),this.$refs.svideo.srcObject=null)},takePicture:function(){this.canvasCtx.drawImage(this.$refs.svideo,0,0,this.streamImageWidth,this.streamImageHeight),this.idata=this.canvas.toDataURL("image/png").split(",")[1],this.$socket.setImage(this.idata,2e3,"Streaming")},updateScrTimer:function(e){var t=this;clearInterval(this.screenshotTimer),!1===e&&(this.screenshotTimer=setInterval((function(){return t.takePicture()}),1/this.conImageHz*1e3))},getElectronSources:function(){var e=y()(k.a.mark((function e(t){var n,r,o,i,a,s,c;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=!0,r=!1,o=void 0,e.prev=3,i=t[Symbol.iterator]();case 5:if(n=(a=i.next()).done){e.next=14;break}return s=a.value,e.next=9,navigator.mediaDevices.getUserMedia({audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:s.id,minWidth:this.conImageWidth,minHeight:this.conImageHeight}}});case 9:c=e.sent,this.selectionList.push(Object.assign(s,{stream:c}));case 11:n=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),r=!0,o=e.t0;case 20:e.prev=20,e.prev=21,n||null==i.return||i.return();case 23:if(e.prev=23,!r){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,this,[[3,16,20,28],[21,,23,27]])})));function t(t){return e.apply(this,arguments)}return t}()}}),Yr=Kr,Xr=(n("32f8"),Object(Re["a"])(Yr,Vr,Jr,!1,null,null,null)),Zr=Xr.exports,eo={name:"BtnMore",components:{"item-streamer":Zr},data:function(){return{streamerVisible:!1}},computed:{getAdminAppMode:function(){return this.$store.getters["common/getAdminAppMode"]}},methods:{emitEvent:function(e){Ae["a"].$emit(e)},openStreamer:function(){this.$refs.streamer.stopCapture(),this.$refs.streamer.showOptDialog()}}},to=eo,no=Object(Re["a"])(to,Wr,Gr,!1,null,null,null),ro=no.exports,oo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-dialog",{model:{value:e.showTokenDialog,callback:function(t){e.showTokenDialog=t},expression:"showTokenDialog"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("conf.auth.tokReq")))])]),n("q-card-section",{staticClass:"q-dialog__message"},[e._v("\n        "+e._s(e.$t("conf.auth.tokReqMsg"))+"\n      ")]),n("q-card-section",[n("q-list",e._l(e.$store.getters["api/getPendingTokens"],(function(t){return n("q-item",{key:t.id},[n("q-item-section",[n("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(e.$t("login.app"))+": "+e._s(t.comment))]),n("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.$t("login.code"))+": "+e._s(t.id))])],1),n("q-item-section",{attrs:{top:"",side:""}},[n("div",[n("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"delete"},on:{click:function(n){return e.__handleTokenRequest(t.id,!1)}}}),n("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",dense:"",round:"",icon:"done"},on:{click:function(n){return e.__handleTokenRequest(t.id,!0)}}})],1)])],1)})),1)],1),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",outline:"",label:e.$q.lang.label.ok}})],1)],1)],1),n("q-dialog",{on:{"before-hide":function(t){e.createdTok=""}},model:{value:e.showCreatedTokenDialog,callback:function(t){e.showCreatedTokenDialog=t},expression:"showCreatedTokenDialog"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("conf.auth.tokenCreated")))])]),n("q-card-section",{staticClass:"q-dialog__message"},[n("div",[e._v(e._s(e.$t("conf.auth.tokenCreatedMsg")))]),n("div",{staticClass:"q-py-md row flex-center"},[n("copy-to-clipboard",{attrs:{data:e.createdTok}})],1)]),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",outline:"",label:e.$q.lang.label.ok}})],1)],1)],1)],1)},io=[],ao=n("96a4"),so={name:"tokenhandle",components:{"copy-to-clipboard":ao["a"]},data:function(){return{showTokenDialog:!1,showCreatedTokenDialog:!1,createdTok:""}},created:function(){Ae["a"].$on("authorize-createToken",this.__handleTokenCreated)},beforeDestroy:function(){Ae["a"].$off("authorize-createToken",this.__handleTokenCreated)},mounted:function(){this.$store.state.api.pendingTokens.length>0&&(this.showTokenDialog=!0)},watch:{"$store.state.api.pendingTokens":function(e){e.length>0?this.showTokenDialog=!0:this.showTokenDialog=!1},"$store.state.temp.openTokenHandler":function(e){e&&(this.showTokenDialog=!0)}},methods:{__handleTokenCreated:function(e){this.createdTok=e.info.token,this.showCreatedTokenDialog=!0},__handleTokenRequest:function(e,t){this.$socket.handleTokenRequest(e,t)},open:function(){this.showTokenDialog=!0}}},co=so,uo=Object(Re["a"])(co,oo,io,!1,null,null,null),lo=uo.exports,po=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$q.platform.is.electron?n("q-bar",{staticClass:"q-electron-drag"},[n("q-icon",{attrs:{name:"laptop_chromebook"}}),n("div",[e._v("Hyperion Remote")]),n("q-space"),n("q-btn",{attrs:{dense:"",flat:"",icon:"minimize"},on:{click:e.minimize}}),n("q-btn",{attrs:{dense:"",flat:"",icon:"crop_square"},on:{click:e.maximize}}),n("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:e.closeApp}})],1):e._e()},mo=[],fo={name:"TopBarElectron",data:function(){return{}},methods:{minimize:function(){window.electron.minimize()},maximize:function(){window.electron.isMaximized()?window.electron.unmaximize():window.electron.maximize()},closeApp:function(){window.electron.close()}}},ho=fo,go=Object(Re["a"])(ho,po,mo,!1,null,null,null),vo=go.exports,bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.getAvailableInstances.length>1?n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"compare_arrows"}},[n("q-menu",[n("q-list",[e._l(e.getAvailableInstances,(function(t,r){return[n("q-item",{key:r,attrs:{clickable:e.getActiveInstance.instance!=t.instance&&t.running}},[n("q-item-section",{attrs:{side:""}},[n("q-radio",{attrs:{value:e.getActiveInstance.instance==t.instance,val:!0,disable:!t.running},nativeOn:{click:function(n){t.running&&e.handleInstanceSwitch(t.instance)}}})],1),n("q-item-section",{staticStyle:{"white-space":"nowrap"},on:{click:function(n){t.running&&e.handleInstanceSwitch(t.instance)}}},[n("q-item-label",[e._v(e._s(t.friendly_name))])],1),n("q-item-section",{attrs:{avatar:""}},[t.instance>0?n("q-toggle",{attrs:{value:t.running},on:{input:function(n){return e.handleInstanceState(!t.running,t.instance)}}}):e._e()],1)],1)]}))],2)],1)],1):e._e()},ko=[],wo={name:"BtnInstanceControl",data:function(){return{}},computed:{getActiveInstance:function(){return this.$store.getters["api/getActiveInstanceData"]},getAvailableInstances:function(){return this.$store.getters["api/getInstances"]}},methods:{handleInstanceSwitch:function(e){this.$socket.setInstance(e)},handleInstanceState:function(e,t){this.$socket.setInstanceState(e,t)}}},yo=wo,xo=Object(Re["a"])(yo,bo,ko,!1,null,null,null),So=xo.exports,To={name:"LayoutDefault",components:{"status-bar":Qr,"btn-more":ro,"btn-instance-control":So,"top-bar-electron":vo,"token-handler":lo},data:function(){return{leftDrawerOpen:window.innerWidth>992,pages:[{label:"authorization",route:"/settings/authorization"},{label:"instance",route:"/settings/instance"},{label:"ledlayout",route:"/settings/ledlayout"},{label:"leddevice",route:"/settings/leddevice"},{label:"app",route:"/settings/app"}]}},mounted:function(){var e=Ae["h"].toHex(this.$store.getters["common/getThemeColor"]);this.$q.addressbarColor.set(e),this.$q.platform.is.cordova&&"android"===cordova.platformId&&Qr.backgroundColorByHexString(e)},computed:{getAdminAppMode:function(){return this.$store.getters["common/getAdminAppMode"]}},methods:{onSwipeEvent:function(e){"left"===e.direction&&this.$q.screen.width-50>e.evt.clientX&&(console.log(e.evt.clientX),this.$q.notify(String(e.evt.clientX)))}}},Co=To,qo=Object(Re["a"])(Co,Sr,Tr,!1,null,null,null),_o=qo.exports,Do=[{path:"/",component:_o,children:[{path:"",component:function(){return n.e(10).then(n.bind(null,"4cdf"))},meta:{icon:"dashboard",title:"pages.dashboard"}},{path:"control",component:function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,"306c"))},meta:{icon:"fas fa-gamepad",title:"pages.control"}},{path:"about",component:function(){return n.e(7).then(n.bind(null,"7dd8"))},meta:{icon:"info",title:"pages.about"}},(vr={path:"settings",component:function(){return n.e(14).then(n.bind(null,"b653"))},meta:{icon:"settings",title:"pages.settings"},children:[{path:"/",alias:"app",component:function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,"5ae4"))}},{path:"ledlayout",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"ff5d"))}},{path:"instance",component:function(){return n.e(12).then(n.bind(null,"cb4c"))}},{path:"authorization",component:function(){return n.e(11).then(n.bind(null,"4003"))}},{path:"leddevice",component:function(){return n.e(13).then(n.bind(null,"45c4"))}}]},xr()(vr,"meta",{icon:"info",title:"pages.config"}),xr()(vr,"beforeEnter",(function(e,t,n){["/settings","/settings/app"].includes(e.path)?n():br.state.common.uiSettings.adminAppMode?n():n("/")})),vr)]},{path:"*",component:function(){return n.e(6).then(n.bind(null,"cf3a"))},children:[{path:"",name:"404",component:function(){return n.e(8).then(n.bind(null,"ee5d"))}}]}];x["a"].use(kr["a"]);var $o=new kr["a"]({mode:"hash",base:"",scrollBehavior:function(e,t,n){return n||{x:0,y:0}},routes:Do});$o.beforeEach((function(e,t,n){br.commit("temp/setBtnMoreEntries",[]),Ce["a"].show({spinner:wr["a"],spinnerSize:150}),n()})),$o.afterEach((function(e,t,n){Ce["a"].hide()}));var Ao=$o,Eo=n("e2a3"),Io=Eo["a"].SplashScreen,Lo=function(){return Mo.apply(this,arguments)};function Mo(){return Mo=y()(k.a.mark((function e(){var t,n,r;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof br){e.next=6;break}return e.next=3,br({Vue:x["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=br;case 7:if(t=e.t0,"function"!==typeof Ao){e.next=14;break}return e.next=11,Ao({Vue:x["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=Ao;case 15:return n=e.t1,t.$router=n,r={el:"#q-app",router:n,store:t,render:function(e){return e(Be)},mounted:function(){Io.hide()}},e.abrupt("return",{app:r,store:t,router:n});case 19:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}var Po=n("a925"),No=n("77f9"),Ro=null,Oo=function(e){var t=e.app,n=e.Vue;n.use(Po["a"]),Ro=new Po["a"]({locale:"en-us",fallbackLocale:"en-us",messages:{"en-us":No}}),t.i18n=Ro},Bo=n("bc3a"),Fo=n.n(Bo),jo=function(e){var t=e.Vue;t.prototype.$axios=Fo.a};ye["a"].setDefaults({position:"top",timeout:5e3,textColor:"white",actions:[{icon:"close",color:"white"}]});var Ho=null,zo=!1,Uo=null,Qo=5;function Wo(e,t){Uo=t,Ho=e,Uo.addEventListener("open",Pi),Uo.addEventListener("close",Ni),Uo.addEventListener("message",Mi),Uo.addEventListener("storecommit",Ri),Uo.addEventListener("notify",Oi)}var Go=function(e){Uo.connect(e)},Vo=function(){Uo.disconnect(),Ho.commit("temp/setConnectedState",!1),Li()},Jo=function(){Bi("serverinfo",void 0,{subscribe:["components-update","effects-update","adjustment-update","instance-update","leds-update","token-update","priorities-update"]})},Ko=function(){Bi("sysinfo")},Yo=function(){Bi("authorize","adminRequired")},Xo=function(){Bi("authorize","tokenRequired")},Zo=function(){Bi("authorize","logout"),Ho.commit("api/setLoginState",!1)},ei=function(){var e=y()(k.a.mark((function e(t){return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi("authorize","login",{password:t,tan:Qo}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ti=function(){var e=y()(k.a.mark((function e(t){return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi("authorize","login",{token:t,tan:Qo}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ni=function(e,t){Bi("authorize","requestToken",{comment:e,id:t,tan:Qo})},ri=function(e,t){Bi("authorize","requestToken",{comment:e,id:t,accept:!1})},oi=function(e,t){Bi("componentstate",void 0,{componentstate:{component:e,state:t}})},ii=function(e,t){t=void 0===t?0:t,Bi("color",void 0,{color:e,priority:Ho.getters["common/getPriority"],origin:Ho.getters["common/getOriginName"]})},ai=function(e,t,n){Bi("image",void 0,{imagedata:e,priority:Ho.getters["common/getPriority"],duration:t,format:"auto",origin:Ho.getters["common/getOriginName"],name:n})},si=function(e,t,n){Bi("image",void 0,{imagedata:e.data,priority:Ho.getters["common/getPriority"],duration:t,format:"RGBAraw",width:e.width,height:e.height,origin:Ho.getters["common/getOriginName"],name:n})},ci=function(e,t){t=void 0===t?0:t,Bi("effect",void 0,{effect:{name:e},duration:t,priority:Ho.getters["common/getPriority"],origin:Ho.getters["common/getOriginName"]})},ui=function(e,t,n){var r;Bi("adjustment",void 0,{adjustment:(r={},xr()(r,t,n),xr()(r,"id",e),r)})},li=function(e,t){var n=t?"start":"stop";Bi("plugin",n,{id:e})},di=function(e){e=void 0===e?Ho.getters["common/getPriority"]:e,Bi("clear",void 0,{priority:e})},pi=function(e){Bi("sourceselect",void 0,{priority:e})},mi=function(e){Bi("sourceselect",void 0,{auto:e})},fi=function(e){Ho.getters["api/getLoginState"]&&Bi("logging",e?"start":"stop")},hi=function(e){Bi("instance","switchTo",{instance:e,tan:Qo})},gi=function(e,t){var n=e?"startInstance":"stopInstance";Bi("instance",n,{instance:t})},vi=function(e){Ho.getters["api/getLoginState"]&&Bi("ledcolors",e?"ledstream-start":"ledstream-stop")},bi=function(e){Ho.getters["api/getLoginState"]&&Bi("ledcolors",e?"imagestream-start":"imagestream-stop")},ki=function(){Bi("config","getschema")},wi=function(){Bi("config","getconfig")},yi=function(){Bi("authorize","getTokenList")},xi=function(){Bi("authorize","getPendingTokenRequests")},Si=function(e,t){Bi("authorize","answerRequest",{id:e,accept:t})},Ti=function(e){Bi("authorize","createToken",{comment:e})},Ci=function(e,t){Bi("authorize","renameToken",{id:e,comment:t})},qi=function(e){Bi("authorize","deleteToken",{id:e})},_i=function(e){Bi("instance","deleteInstance",{instance:e})},Di=function(e,t){Bi("instance","saveName",{instance:e,name:t})},$i=function(e){Bi("instance","createInstance",{name:e})},Ai=function(e,t){if("update"===e){var n=Ho.getters["temp/getActiveInstance"],r=t.filter((function(e){return e.instance===n&&e.running}));1!==r.length&&(Ho.commit("temp/setActiveInstance",0),Jo()),Ho.commit("api/updateInstances",t)}else{var o=0;if(t.success)return o=t.info.instance,Ho.commit("temp/setActiveInstance",o),void Jo();Ho.commit("temp/setActiveInstance",o),zo||Ei(!0)}},Ei=function(e){var t=Ho.getters["common/getAdminAppMode"];if(e){t&&(yi(),xi(),ki(),wi()),Ko();var n=Ho.getters["temp/getActiveInstance"];n?hi(n):Jo()}else t?Yo():Xo()},Ii=function(e){e||(Ho.commit("api/setLoginState",!0),Ei(!0)),Ho.commit("api/setLoginReady",!0)};function Li(){Ho.commit("api/resetLogEntries"),Ho.commit("api/setLoginReady",!1),Ho.commit("api/setLoginState",!1),zo=!1}function Mi(e){var t=null;try{t=JSON.parse(e.data)}catch(n){return void console.error("Failed to parse Hyperion response json",n,e)}if(Ho.getters["common/getDebugState"]&&console.log("RECEIVE",t),"undefined"===typeof t.success||t.success||t.tan===Qo){switch(t.command){case"sysinfo":Ho.commit("api/setSysInfo",t.info);break;case"config-getschema":Ho.commit("api/setServerSchema",t.info);break;case"config-geconfig":Ho.commit("api/setServerConfig",t.info);break;case"serverinfo":Ho.commit("api/setServerInfo",t.info),zo=!0;break;case"authorize-adminRequired":Ii(t.info.adminRequired);break;case"authorize-tokenRequired":Ii(t.info.required);break;case"authorize-getTokenList":Ho.commit("api/setTokenList",t.info);break;case"token-update":Ho.commit("api/setTokenList",t.data);break;case"authorize-getPendingTokenRequests":Ho.dispatch("api/setPendingTokens",t.info);break;case"authorize-tokenRequest":Ho.dispatch("api/setPendingTokens",t.info);break;case"components-update":Ho.commit("api/setComponentsUpdate",t.data);break;case"effects-update":Ho.commit("api/updateEffects",t.effects);break;case"adjustment-update":Ho.commit("api/updateAdjustment",t.data);break;case"leds-update":Ho.commit("api/updateLeds",t.data.leds);break;case"plugins-update":Ho.commit("api/updatePlugins",t.data);break;case"instance-update":Ai("update",t.data);break;case"priorities-update":Ho.commit("api/updatePriorities",t.data);break;case"logging-update":Ho.commit("api/updateLog",t.result.messages);break;case"logging-stop":Ho.commit("api/resetLogEntries");break;case"instance-switchTo":Ai("not",t);break;default:}Ae["a"].$emit(t.command,t)}else Ae["e"].error("".concat(Ro.t("conn.respFailure"),": CMD:").concat(t.command," Error:").concat(JSON.stringify(t.error)),"wifi")}function Pi(){Ei()}function Ni(){Li()}function Ri(e){Ho.commit(e.data.path,e.data.value)}function Oi(e){"error"===e.data.type?Ae["e"].error(Ro.t(e.data.msg),e.data.icon):Ae["e"].success(Ro.t(e.data.msg),e.data.icon)}function Bi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o={command:e,subcommand:t,tan:r};n&&Object.assign(o,n),Ho.getters["common/getDebugState"]&&console.log("SEND",o),Uo.send(o)}function Fi(e,t,n){return ji.apply(this,arguments)}function ji(){return ji=y()(k.a.mark((function e(t,n,r){var o,i,a=arguments;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=a.length>3&&void 0!==a[3]?a[3]:1,i={command:t,subcommand:n,tan:o},r&&Object.assign(i,r),Ho.getters["common/getDebugState"]&&console.log("SENDAS",i),e.abrupt("return",Uo.sendAsync(i));case 5:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}n("551c");var Hi=n("0744"),zi=n.n(Hi);function Ui(){this.listeners={}}Ui.prototype.listeners=null,Ui.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},Ui.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,o=n.length;r<o;r++)if(n[r]===t)return void n.splice(r,1)},Ui.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type],n=0,r=t.length;n<r;n++)t[n].call(this,e);return!e.defaultPrevented};var Qi=new zi.a,Wi=new Ui;function Gi(e){Qi.postMessage({cmd:"connect",value:e})}function Vi(){Qi.postMessage({cmd:"disconnect"})}function Ji(e){Qi.postMessage({cmd:"send",value:e})}function Ki(e){return Yi.apply(this,arguments)}function Yi(){return Yi=y()(k.a.mark((function e(t){return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.command,o=t.subcommand;o&&(r="".concat(r,"-").concat(o));var i=function t(n){var o=JSON.parse(n.data);o.command==r&&(Zi("message",t),e(o))};setTimeout((function(){e(!1),Zi("message",i)}),5e3),Xi("message",i),Qi.postMessage({cmd:"send",value:t})})));case 1:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}function Xi(e,t){Wi.addEventListener(e,t)}function Zi(e,t){Wi.removeEventListener(e,t)}Qi.addEventListener("message",(function(e){var t=null;switch(e.data.cmd){case"open":Wi.dispatchEvent(new Event("open"));break;case"close":Wi.dispatchEvent(new Event("close"));break;case"message":t=new Event("message"),t.data=e.data.value,Wi.dispatchEvent(t);break;case"storecommit":t=new Event("storecommit"),t.data=e.data.value,Wi.dispatchEvent(t);break;case"notify":t=new Event("notify"),t.data=e.data.value,Wi.dispatchEvent(t);break;default:break}}),!1),Qi.postMessage({cmd:"ssl",value:"https:"===document.location.protocol});var ea=n("fc74"),ta=n.n(ea),na=n("59a1"),ra=n.n(na),oa=n("6430"),ia=n.n(oa),aa=n("ffe3"),sa=n.n(aa),ca=n("37d9"),ua=n.n(ca),la=function(){function e(t){var n=this;ta()(this,e),xr()(this,"_onopen",(function(e){n.storeCommit("temp/setConnectedState",!0),n._resetRecAttempts(),n.storeCommit("temp/setInitialConnected",!0);var t=n.ssl?"https://"+n.url:n.url;n.storeCommit("connection/addSetAddress",t),n.onopen(e)})),xr()(this,"_onclose",(function(e){if(n.closeRequested)return n.closeRequested=!1,void console.log("Force disconnected");if(n.maxRecAttempts>n.currentRecAttempts){var t=(new Date).getTime(),r=t-n.lastConnectionTryTime<1e3?2e3:250;setTimeout(n.connect.bind(n),r)}else n._notifyErrorAndRelease(),n.onclose(e)})),xr()(this,"_onerror",(function(e){n.onerror(e)})),xr()(this,"_onmessage",(function(e){n.onmessage(e)})),xr()(this,"_abortConnectionTry",(function(e){null!=n.ws&&n.ws.readyState===WebSocket.CONNECTING&&n.ws.close()})),this.closeRequested=!1,this.ws=null,this.url=null,this.ssl=!1,this.forceSSL=t.forceSSL,this.timeout=3e3,this.maxRecAttempts=3,this.currentRecAttempts=0,this.lastConnectionTryTime=null,this.wsEvents=t.wsEvent}return ra()(e,[{key:"disconnect",value:function(){null!=this.ws&&(this._isConnected()&&(this.closeRequested=!0),this.ws.close(1e3),this.ws=null)}},{key:"send",value:function(e){null!==this.ws&&this._isConnected()&&this.ws.send(JSON.stringify(e)+"\n")}},{key:"sendAsync",value:function(){var e=y()(k.a.mark((function e(t){var n=this;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===this.ws||!this._isConnected()){e.next=2;break}return e.abrupt("return",new Promise((function(e,r){var o=t.command,i=t.subcommand;i&&(o="".concat(o,"-").concat(i));var a=function t(r){var i=JSON.parse(r.data);i.command==o&&(n.ws.removeEventListener("message",t),e(i))};setTimeout((function(){e(!1),n.ws.removeEventListener("message",a)}),5e3),n.ws.addEventListener("message",a),n.ws.send(JSON.stringify(t)+"\n")})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(e){if(null!==this.ws&&(this._isConnected()&&(this.closeRequested=!0),this.ws.close(1e3),this.ws=null),void 0!==e&&null!==e){this.ssl=!1,this.url=e,this._resetRecAttempts(),this.storeCommit("temp/setInitialConnected",!1);try{var t=new URL(e);this.ssl="https:"===t.protocol,this.url=t.hostname+(t.port?":"+t.port:"")}catch(n){}this.forceSSL&&(this.ssl=!0)}try{this.ws=this.ssl?new WebSocket("wss://"+this.url):new WebSocket("ws://"+this.url)}catch(n){return this.notify("error","conn.invalidMsgAddress","wifi"),void(this.ws=null)}this.currentRecAttempts+=1,this.ws.onopen=this._onopen,this.ws.onclose=this._onclose,this.ws.onerror=this._onerror,this.ws.onmessage=this._onmessage,setTimeout(this._abortConnectionTry,this.timeout),this.storeCommit("temp/setConnectingState",!0),this.lastConnectionTryTime=(new Date).getTime()}},{key:"_isConnected",value:function(){return this.ws.readyState===WebSocket.OPEN}},{key:"_resetRecAttempts",value:function(){this.currentRecAttempts=0}},{key:"_notifyErrorAndRelease",value:function(){this.storeCommit("temp/setConnectingState",!1),this.notify("error","conn.failedMsg","wifi")}},{key:"onopen",value:function(e){console.error("onopen not implemented!")}},{key:"onclose",value:function(e){console.error("onclose not implemented!")}},{key:"onerror",value:function(e){}},{key:"onmessage",value:function(e){console.error("onmessage not implemented!")}},{key:"storeCommit",value:function(e,t){console.error("storeCommit not implemented!")}},{key:"notify",value:function(e,t,n){console.error("notify not implemented!")}}]),e}(),da=la,pa=new Ui,ma=function(e){function t(){return ta()(this,t),ia()(this,sa()(t).apply(this,arguments))}return ua()(t,e),ra()(t,[{key:"onopen",value:function(e){this.wsEvents.dispatchEvent(e)}},{key:"onclose",value:function(e){this.wsEvents.dispatchEvent(e)}},{key:"onerror",value:function(e){}},{key:"onmessage",value:function(e){this.wsEvents.dispatchEvent(e)}},{key:"storeCommit",value:function(e,t){var n=new Event("storecommit");n.data={path:e,value:t},this.wsEvents.dispatchEvent(n)}},{key:"notify",value:function(e,t,n){var r=new Event("notify");r.data={type:e,msg:t,icon:n},this.wsEvents.dispatchEvent(r)}}]),t}(da),fa={wsEvent:pa,forceSSL:"https:"===document.location.protocol},ha=new ma(fa);function ga(e){ha.connect(e)}function va(){ha.disconnect()}function ba(e){ha.send(e)}function ka(e){return wa.apply(this,arguments)}function wa(){return wa=y()(k.a.mark((function e(t){return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ha.sendAsync(t));case 1:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function ya(e,t){pa.addEventListener(e,t)}function xa(e,t){pa.removeEventListener(e,t)}var Sa=function(e){var t=e.Vue,n=e.store;e.router;window.Worker?(console.log("Use Worker WebSocket"),Wo(n,g)):window.WebSocket?(console.log("Use Window WebSocket"),Wo(n,v)):console.error("No WebSocket supported! FATAL!"),t.prototype.$socket=h},Ta=n("2a0a");function Ca(){return qa.apply(this,arguments)}function qa(){return qa=y()(k.a.mark((function e(){var t,n,r,o,i,a,s,c,u;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Lo();case 2:t=e.sent,n=t.app,r=t.store,o=t.router,i=!0,a=function(e){i=!1,window.location.href=e},s=window.location.href.replace(window.location.origin,""),c=[Oo,jo,void 0,Sa,Ta["default"]],u=0;case 11:if(!(!0===i&&u<c.length)){e.next=29;break}if("function"===typeof c[u]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,c[u]({app:n,router:o,store:r,Vue:x["a"],ssrContext:null,redirect:a,urlPath:s});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:u++,e.next=11;break;case 29:if(!1!==i){e.next=31;break}return e.abrupt("return");case 31:x["a"].prototype.$q.capacitor=window.Capacitor,new x["a"](n);case 33:case"end":return e.stop()}}),e,null,[[14,19]])}))),qa.apply(this,arguments)}Ca()},"302e":function(e,t,n){var r={"./de":["215a",0],"./de.js":["215a",0],"./en-us":["1f91"],"./en-us.js":["1f91"]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="302e",e.exports=o},"32f8":function(e,t,n){"use strict";var r=n("54b2"),o=n.n(r);o.a},"54b2":function(e,t,n){},"676c":function(e,t,n){},"77f9":function(e){e.exports=JSON.parse('{"norevert":"This action can\'t be reverted!","led":"LED","leds":"LEDs","example":"Example","base":{"ledregex":"@:example: \'5\' or \'1-9\' or \'3,5,7,22\' or \'4,7,12-16\'"},"app":{"updateAvail":"App Update Available","updateAvailMsg":"An app update is available, do you want to install it?","upToDate":"App is already up to date"},"ui":{"listLabel":"User interface","lang":"Language","lang_desc":"Select a language for the user interface","themeColor":"Color","themeColor_desc":"Choose a theme color","backToTop":"Back To Top","backToTop_desc":"Show the \\"Back to Top\\" button, when the end of page has been reached","darkMode":"Dark Mode","darkMode_platform":"System","darkMode_enabled":"@:label.enabled","darkMode_disabled":"@:label.disabled","darkMode_time":"Time","darkMode_gps":"GPS","darkMode_desc":"By default the prefered mode of the operating system","darkTimespan":"@:ui.darkMode - Timespan","darkTimespan_desc":"The timespan in which the Dark Mode is enabled"},"service":{"title":"Service","debug":"Enable Debug","debug_desc":"Activate debugging app mode","resetAppData":"Reset App Data","resetAppData_desc":"This will reset all app related data. Hyperion settings will be untouched. @:norevert","appUpdate":"Check for App Updates","appUpdate_desc":"@:service.appUpdate"},"colors":{"hyperion":"Default","indigo":"Indigo","cyan":"Cyan","teal":"Teal","green":"Green","lime":"Lime","amber":"Amber","orange":"Orange","deep-orange":"Deep orange","red":"Red","pink":"Pink","purple":"Purple","deep-purple":"Deep purple","brown":"Brown","white":"White","blue":"Blue","magenta":"Magenta","yellow":"Yellow"},"btn":{"createToken":"Create Token","openWui":"Open Webconfiguration","disconnect":"Disconnect","toggleFullscreen":"Full screen","toggleLeds":"Toggle LEDs","toggleImage":"Toggle Image"},"pages":{"dashboard":"Dashboard","control":"Control","settings":"Settings","ledlayout":"LED Layout","leddevice":"LED Hardware","app":"App","instance":"Instance","authorization":"Authorization","about":"About"},"conn":{"label":"Connect to a Hyperion Server","connected":"Connected","notconnected":"Not connected","disconnected":"Disconnected","connecting":"Connecting","webserverAdr":"Webserver address","failedMsg":"Hyperion seems not reachable at the given address","storedConnections":"Previous Connections","address":"Address","settingsListLabel":"Connection","autoDisconnect":"Background disconnect","autoDisconnect_desc":"Disconnect from Hyperion when the app is in background. Reconnects automatically when back in foreground","ssdpNoResults":"No Hyperion server found","ssdpError":"Error while searching for server: {0}","ssdpDialogTitle":"Found Hyperion server","ssdpDialogText":"Choose a server you want to connect","invalidMsgAddress":"Provided address isn\'t legit","respFailure":"Server Error Response","usehttps":"You need to use the HTTPS port! (default: {port})"},"login":{"required":"Login required","failed":"Failed to login","password":"Password","passwordHint":"Password for the administration interface","token":"Token","tokenHint":"You need a token, create one at the webconfig or use the wizard below","tokWizMsg":"A token has been requested","tokWizMsg2":"Visit the Hyperion Webconfiguration to accept the following request","tokCreaFail":"Token creation timed out or has been denied","tokCreaSucc":"Token created successfully","adminmode":"Settings mode","code":"Code","app":"App"},"remote":{"comp":{"title":"Component states","subtitle":"Show and control the state of all components and Hyperion itself","ALL":"Hyperion","SMOOTHING":"Smoothing","BLACKBORDER":"Blackborder detector","GRABBER":"Platform capture","V4L":"USB capture","LEDDEVICE":"LED hardware","FORWARDER":"Forwarder","BOBLIGHTSERVER":"Boblight"},"prio":{"title":"Sources","type":"Type","prio":"Priority","duration":"Duration","selected":"Selected","auto":"Auto","auto_desc":"Source selection based on priority","color":"Color","eff":"Effect"},"effects":{"title":"Effect","help":"Start an effect"},"colors":{"editFavColors":"Favourite colors","editFavColors_desc":"Create a palette of your favourite colors or color patterns."},"adjust":{"subTitle":"Color adjustments","index":"Color profile","indexHelp":"Choose a color profile","gammaRed":"Gamma red","gammaGreen":"Gamma green","gammaBlue":"Gamma blue","brightness":"Brightness","brightnessCompensation":"Brightness compensation"},"plugins":{"subTitle":"Plugins"}},"utils":{"copyToClipboard":"Copy to Clipboard","copiedToClipboard":"Copied to Clipboard","copyToClipboardFail":"Copy to Clipboard failure{0}","gps":{"not":"No GPS","openBrowser":"Failed to get @:label.latitude and @:label.longitude, you can get them from an external service for your location. Do you want to open the Browser?","applied":"Applied GPS coordinates"},"dropzone":{"title":"Add file | Add files"}},"system":{"logtitle":"Log","logempty":"No log entries to show","logShowMethods":"Show methods","logAutoScroling":"Auto scrolling","logFilterLabel":"Filter","logFilterHelper":"Filter log for specific entries","instCurr":"Current instance"},"about":{"intro":"Remote application for Hyperion, the open source ambient lighting software","version":"Version","developer":"Developer","homepage":"Homepage","support":"Support","buildTime":"Build date","build":"Build","official":"Official build","prettyName":"Name","arch":"System","hostName":"Hostname","gitremote":"Git Remote"},"misc":{"title":"Miscellaneous","effBlacklist":"Hidden effects","effBlacklistHelp":"Effects in that list won\'t be shown at the effect selection","originName":"Identifier","originNameHelp":"Will be displayed at the sources overview as indentifier","priority":"Priority","priorityHelp":"Colors and effects will be set with the defined priority"},"label":{"yes":"Yes","no":"No","save":"Save","create":"Create","add":"Add","enabled":"Enabled","disabled":"Disabled","connect":"Connect","login":"Login","logout":"Logout","latitude":"Latitude","longitude":"Longitude"},"capture":{"selectMsg":"Select a source to start streaming","title":"Streaming","optionMsg":"Use a camera or platform specific sources and stream them to Hyperion","lessIsMore":"Lower values are ressource friendly","imageHeight":"Image Height","imageWidth":"Image Width","hz":"Framerate (FPS)","source":"Source","platform":"Platform","camera":"Camera"},"validate":{"minLength":"The length should be at least {0}","maxLength":"The length should be maximum {0}","betweenLength":"The length should be between {0} and {1}","mininum":"The number should be at minimum {0}","maximum":"The number should be at maximum {0}","between":"The number should be between {0} and {1}","unique":"The identifier {0} is already in use","timespan":"The timespan is invalid"},"conf":{"layout":{"movexaxis":"Move on X-Axis","moveyaxis":"Move on Y-Axis","movexyaxis":"Move on X/Y-Axis","reset":"Reset Layout","add":"Add @:led","remove":"Remove @:led | Remove @:leds","ledAdded":"@:led added {lednr}","ledRemoved":"@:led removed {lednr} | @:leds removed {lednr}","ledVisible":"@:led visibility","confResetMsg":"Do you really want to reset this layout? @:norevert","removeLedsMsg":"You can remove multiple @:leds by providing their number. @:base.ledregex","ledVisibleMsg":"For easier editing of single @:leds you might want to limit the visibility just to specific ones based on their number. @:base.ledregex","ledOrder":"Rearrange @:leds","ledOrderMsg":"Flip positions of @:leds","ledName":"@:led Name","ledNameMsg":"Assign a name to @:led {lednr}","ledNameMsg2":"Assign a name to one or more @:leds. Tap on them to edit"},"instance":{"managerTitle":"Instance Management","delInstance":"Remove Instance","delInstanceMsg":"Are you sure to remove instance {name}? @:norevert","newName":"New Instance Name","tableName":"Name","tableState":"State"},"auth":{"tokenName":"New Token Name","managerTitle":"Token Manager","tableLastUse":"Last Use","tokenCreated":"Token Created","tokenCreatedMsg":"Your Token has been created, it\'s not possible to show it again.","delToken":"Remove Token","delTokenMsg":"Are you sure to remove Token {name}? @:norevert","tokReq":"Token Requested","tokReqMsg":"An application requests a token to get access to the Hyperion API. Do you really want to allow this? Please verify the code.","pendToks":"Pending Token Requests"}}}')},"7e6d":function(e,t,n){},"96a4":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return C}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-input",{staticClass:"full-width",attrs:{readonly:"",value:e.data},scopedSlots:e._u([{key:"after",fn:function(){return[n("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"fas fa-clipboard"},on:{click:function(t){return e.copyToClipboard(e.data)}}},[n("q-tooltip",[e._v(e._s(e.$t("utils.copyToClipboard")))])],1)]},proxy:!0}])})},o=[],i=(n("cdde"),n("e325")),a={name:"CopyToClipboard",mixins:[i["a"]],props:{data:String},data:function(){return{}}},s=a,c=n("2877"),u=Object(c["a"])(s,r,o,!1,null,null,null),l=u.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cursor-pointer row flex-center q-pa-sm dropzone",style:e.dropZoneColor,on:{drop:function(t){return t.preventDefault(),e.addDropFile(t)},dragover:function(e){e.preventDefault()},click:function(t){return t.stopPropagation(),e.addClickFile(t)}}},[0==e.files.length?n("div",{staticClass:"flex flex-center"},[n("div",{staticClass:"text-h5 q-dialog__message"},[e._v(e._s(e.$tc("utils.dropzone.title",this.multiple?2:1)))])]):e._l(e.files,(function(t){return n("div",{key:t.name,staticClass:"file-entry relative-position no-wrap shadow-1 q-ma-sm",style:e.getFileStyle(t)},[n("div",{staticClass:"file-header row flex-center no-wrap rounded-border q-pl-sm q-pt-sm q-pr-sm"},[n("div",{staticClass:"col"},[n("div",{staticClass:"file-header-title"},[e._v("\n          "+e._s(t.name.length>20?t.name.slice(0,20)+"...":t.name)+"\n        ")]),n("div",{staticClass:"file-header-subtitle"},[e._v("\n          ("+e._s(e.humanStorageSize(t.size))+")\n        ")])]),n("q-btn",{attrs:{flat:"",round:"",dense:"",title:e.$q.lang.label.remove,icon:"close"},on:{click:function(n){return n.stopPropagation(),e.removeFile(t)}}})],1)])}))],2)},p=[],m=n("967e"),f=n.n(m),h=(n("7f7f"),n("4db1")),g=n.n(h),v=(n("96cf"),n("fa84")),b=n.n(v),k=n("7937"),w=n("ed08"),y=k["c"].humanStorageSize,x={name:"DropZone",mixins:[i["b"]],props:{filter:{type:Array,default:function(){return["json","png","jpeg","jpg"]}},multiple:{type:Boolean,default:!1}},data:function(){return{files:[]}},computed:{filesAvailable:function(){return 0===this.files.length},dropZoneColor:function(){return this.$q.dark.isActive?"background: #444;":""}},methods:{addDropFile:function(){var e=b()(f.a.mark((function e(t){var n;return f.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.dataTransfer.files,n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Object(w["g"])({files:this.files,filter:this.filter,multiple:this.multiple,newFiles:g()(n)});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](3),console.error("DropZone: ".concat(e.t0.name," Error: ").concat(e.t0.message)),this.$q.notify("".concat(e.t0.name," Error: ").concat(e.t0.message));case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));function t(t){return e.apply(this,arguments)}return t}(),addClickFile:function(){var e=b()(f.a.mark((function e(t){return f.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.openFileDialog({files:this.files,filter:this.filter,multiple:this.multiple});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),removeFile:function(e){this.files=this.files.filter((function(t){return t!==e}))},getFileStyle:function(e){return e.preview?{"background-image":"url("+e.preview+")",height:"170px"}:{background:"white"}},humanStorageSize:y}},S=x,T=(n("e45d"),Object(c["a"])(S,d,p,!1,null,null,null)),C=T.exports},a034:function(e){e.exports=JSON.parse('{"adjustment":[{"backlightColored":false,"backlightThreshold":0,"blue":[0,0,255],"brightness":100,"brightnessCompensation":100,"cyan":[0,255,255],"gammaBlue":1.5,"gammaGreen":1.5,"gammaRed":1.5,"green":[0,255,0],"id":"default","magenta":[255,0,255],"red":[255,0,0],"white":[255,255,255],"yellow":[255,255,0]}],"components":[{"enabled":true,"name":"ALL"},{"enabled":true,"name":"SMOOTHING"},{"enabled":true,"name":"BLACKBORDER"},{"enabled":false,"name":"FORWARDER"},{"enabled":false,"name":"BOBLIGHTSERVER"},{"enabled":false,"name":"GRABBER"},{"enabled":false,"name":"V4L"},{"enabled":true,"name":"LEDDEVICE"}],"effects":[],"grabbers":{"available":["v4l2","framebuffer","x11","qt"]},"hostname":"ubuntu","imageToLedMappingType":"multicolor_mean","instance":[{"friendly_name":"My First Instance","instance":0,"running":true}],"ledDevices":{"available":["adalight","apa102","apa104","atmo","atmoorb","dmx","fadecandy","file","hyperionusbasp","karate","lightpack","lpd6803","lpd8806","multilightpack","nanoleaf","p9813","paintpack","philipshue","piblaster","rawhid","sedu","sk6812spi","sk6822spi","tinkerforge","tpm2","tpm2net","udpartnet","udpe131","udph801","udpraw","ws2801","ws2812spi"]},"leds":[{"hmax":0.0909,"hmin":0,"vmax":0.08,"vmin":0},{"hmax":0.1818,"hmin":0.0909,"vmax":0.08,"vmin":0},{"hmax":0.2727,"hmin":0.1818,"vmax":0.08,"vmin":0},{"hmax":0.3636,"hmin":0.2727,"vmax":0.08,"vmin":0},{"hmax":0.4545,"hmin":0.3636,"vmax":0.08,"vmin":0},{"hmax":0.5455,"hmin":0.4545,"vmax":0.08,"vmin":0},{"hmax":0.6364,"hmin":0.5455,"vmax":0.08,"vmin":0},{"hmax":0.7273,"hmin":0.6364,"vmax":0.08,"vmin":0},{"hmax":0.8182,"hmin":0.7273,"vmax":0.08,"vmin":0},{"hmax":0.9091,"hmin":0.8182,"vmax":0.08,"vmin":0},{"hmax":1,"hmin":0.9091,"vmax":0.08,"vmin":0},{"hmax":1,"hmin":0.95,"vmax":0.2,"vmin":0},{"hmax":1,"hmin":0.95,"vmax":0.4,"vmin":0.2},{"hmax":1,"hmin":0.95,"vmax":0.6,"vmin":0.4},{"hmax":1,"hmin":0.95,"vmax":0.8,"vmin":0.6},{"hmax":1,"hmin":0.95,"vmax":1,"vmin":0.8},{"hmax":1,"hmin":0.9231,"vmax":1,"vmin":0.92},{"hmax":0.9231,"hmin":0.8462,"vmax":1,"vmin":0.92},{"hmax":0.8462,"hmin":0.7692,"vmax":1,"vmin":0.92},{"hmax":0.7692,"hmin":0.6923,"vmax":1,"vmin":0.92},{"hmax":0.6923,"hmin":0.6154,"vmax":1,"vmin":0.92},{"hmax":0.6154,"hmin":0.5385,"vmax":1,"vmin":0.92},{"hmax":0.5385,"hmin":0.4615,"vmax":1,"vmin":0.92},{"hmax":0.4615,"hmin":0.3846,"vmax":1,"vmin":0.92},{"hmax":0.3846,"hmin":0.3077,"vmax":1,"vmin":0.92},{"hmax":0.3077,"hmin":0.2308,"vmax":1,"vmin":0.92},{"hmax":0.2308,"hmin":0.1538,"vmax":1,"vmin":0.92},{"hmax":0.1538,"hmin":0.0769,"vmax":1,"vmin":0.92},{"hmax":0.0769,"hmin":0,"vmax":1,"vmin":0.92},{"hmax":0.05,"hmin":0,"vmax":1,"vmin":0.8},{"hmax":0.05,"hmin":0,"vmax":0.8,"vmin":0.6},{"hmax":0.05,"hmin":0,"vmax":0.6,"vmin":0.4},{"hmax":0.05,"hmin":0,"vmax":0.4,"vmin":0.2},{"hmax":0.05,"hmin":0,"vmax":0.2,"vmin":0}],"priorities":[{"active":true,"componentId":"COLOR","origin":"Browser App@::ffff:192.168.0.96","priority":50,"value":{"HSL":[0,1,0.5000076293945312],"RGB":[0,51,255]},"visible":true},{"active":true,"componentId":"EFFECT","origin":"System","owner":"Warm mood blobs","priority":254,"visible":false}],"priorities_autoselect":true,"sessions":[{"address":"192.168.0.233","domain":"local.","host":"ubuntu","name":"ubuntu:8090","port":8090,"type":"_hyperiond-http._tcp."},{"address":"192.168.0.233","domain":"local.","host":"ubuntu","name":"ubuntu:8092","port":8092,"type":"_hyperiond-http._tcp."}],"videomode":"2D"}')},a352:function(e,t,n){var r={"./de":["bac1",2],"./de.json":["bac1",2],"./en-us":["77f9"],"./en-us.json":["77f9"]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(o,3)}))}o.keys=function(){return Object.keys(r)},o.id="a352",e.exports=o},e325:function(e,t,n){"use strict";n.d(t,"k",(function(){return f})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return w})),n.d(t,"j",(function(){return D})),n.d(t,"f",(function(){return S})),n.d(t,"i",(function(){return T})),n.d(t,"g",(function(){return q})),n.d(t,"e",(function(){return _})),n.d(t,"h",(function(){return $})),n.d(t,"a",(function(){return E}));n("f751");var r=n("4db1"),o=n.n(r),i=(n("0d6d"),n("8993")),a=n.n(i),s={name:"freeze",data:function(){return{}},methods:{freeze:function(e){var t=this;if(Array.isArray(e)&&e.forEach((function(e){return t.freeze(e)})),"object"===a()(e))for(var n in Object.freeze(e),e)this.freeze(n)},unfreeze:function(e){return JSON.parse(JSON.stringify(e))}}},c=o()("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),u=o()("abcdefghijklmnopqrstuvwxyz"),l=o()('~!@#$%^&*()_+-=[]{}|;:",./<>?'),d=o()("0123456789"),p=[].concat(o()(c),o()(d),o()(u),o()(l)),m={name:"getrandommnumber",data:function(){return{}},methods:{getRandomHash:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return o()(Array(e)).map((function(e){return p[Math.random()*p.length|0]})).join("")}}},f={name:"undoredo",mixins:[s,m],data:function(){return{history:[],historyIndex:0}},computed:{canUndo:function(){return this.historyIndex>0},canRedo:function(){return this.history.length-1-this.historyIndex>0}},methods:{resetUndoItems:function(){this.history=[],this.historyIndex=0},storeUndoItem:function(e){var t=this,n=this.unfreeze(e);n=n.map((function(e){return Object.assign(e,{id:t.getRandomHash()})})),this._log(n)},_log:function(e){this.historyIndex+=1,this.history.splice(this.historyIndex),this.history.push(e)},undoItem:function(){if(this.canUndo)return this.historyIndex-=1,this.history[this.historyIndex]},redoItem:function(){if(this.canRedo)return this.historyIndex+=1,this.history[this.historyIndex]}}},h=(n("7f7f"),n("6762"),n("2fdb"),n("551c"),n("06db"),n("967e")),g=n.n(h),v=(n("96cf"),n("fa84")),b=n.n(v),k=n("ed08"),w={name:"dialogMixin",data:function(){return{}},methods:{openConfirmDialog:function(){var e=b()(g.a.mark((function e(t){var n,r,o;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.title,r=t.msg,e.prev=1,!window.electron){e.next=9;break}return e.next=5,window.electron.openConfirmDialog({title:n,msg:r,cancelLabel:this.$q.lang.label.cancel,okLabel:this.$t("label.yes")});case 5:o=e.sent,o=0!=o.response,e.next=10;break;case 9:o=this._openQuasarConfirmDialog({title:n,msg:r});case 10:e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](1),console.error("Confirm Dialog Error",e.t0),o=this._openQuasarConfirmDialog({title:n,msg:r});case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this,[[1,12]])})));function t(t){return e.apply(this,arguments)}return t}(),openPromptDialog:function(){var e=b()(g.a.mark((function e(t){var n,r,o,i,a=this;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.title,r=t.msg,o=t.type,i=t.model,e.abrupt("return",new Promise((function(e,t){a.$q.dialog({title:n,message:r,cancel:!0,prompt:{model:i,type:o},ok:!0,"no-esc-dismiss":!0,"no-backdrop-dismiss":!0,color:"primary"}).onOk((function(t){return e(t)})).onDismiss((function(){return e(!1)}))})));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),openSelectionDialog:function(){var e=b()(g.a.mark((function e(t){var n,r,o,i,a,s=this;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.title,r=t.msg,o=t.type,i=t.model,a=t.items,e.abrupt("return",new Promise((function(e,t){s.$q.dialog({title:n,message:r,cancel:!0,options:{model:i,type:o,items:a},ok:!0,"no-esc-dismiss":!0,"no-backdrop-dismiss":!0,color:"primary"}).onOk((function(t){"string"===typeof t&&(t=t.trim()),e(t)})).onDismiss((function(){return e(!1)}))})));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),openFileDialog:function(){var e=b()(g.a.mark((function e(t){var n,r,o,i;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.files,r=t.type,o=t.filter,i=t.multiple,o||["image","json"].includes(r)){e.next=4;break}return this.$q.notify("No valid file type specified in openFileDialog"),e.abrupt("return");case 4:e.t0=r,e.next="image"===e.t0?7:"json"===e.t0?9:11;break;case 7:return o=["jpg","jpeg","png","gif"],e.abrupt("break",12);case 9:return o=["json"],e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:return e.prev=12,e.next=15,Object(k["f"])({files:n,filter:o,multiple:i});case 15:e.next=21;break;case 17:e.prev=17,e.t1=e["catch"](12),console.error("openFileDialog: ".concat(e.t1.name," Error: ").concat(e.t1.message)),this.$q.notify("".concat(e.t1.name," Error: ").concat(e.t1.message));case 21:case"end":return e.stop()}}),e,this,[[12,17]])})));function t(t){return e.apply(this,arguments)}return t}(),_openQuasarConfirmDialog:function(){var e=b()(g.a.mark((function e(t){var n,r,o=this;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.title,r=t.msg,e.abrupt("return",new Promise((function(e,t){o.$q.dialog({title:n,message:r,cancel:!0,ok:!0,"no-esc-dismiss":!0,"no-backdrop-dismiss":!0,color:"primary"}).onOk((function(){return e(!0)})).onDismiss((function(){return e(!1)}))})));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},y=(n("28a5"),n("ac6a"),n("cadf"),n("456d"),n("a6d8")),x=y.filter((function(e){return["de","en-us"].includes(e.isoName)})),S={name:"lang",data:function(){return{}},methods:{setAppLang:function(e){void 0===e&&(e=this.__parseBrowserLang()),this.__importAndSetLang(e)},getAppLanguages:function(){return x},getBrowserLang:function(){return this.$q.lang.getLocale()},__importAndSetLang:function(e){var t=this;try{n("302e")("./".concat(e)).then((function(e){t.$q.lang.set(e.default)}))}catch(r){console.error("Failed to load Quasar lang:"+e,r),this.$q.notify({message:"Failed to load Quasar lang:"+e,color:"negative"})}try{this.$i18n.locale!==e&&(0===Object.keys(this.$i18n.getLocaleMessage(e)).length?n("a352")("./".concat(e)).then((function(n){t.$i18n.setLocaleMessage(e,n.default),t.$i18n.locale=e})):this.$i18n.locale=e),this.$store.commit("common/setLang",e)}catch(r){console.error("Failed to load App lang:"+e,r),this.$q.notify({message:"Failed to load App lang:"+e,color:"negative"})}},__parseBrowserLang:function(){var e=this.getBrowserLang().toLowerCase();if(!this.__isLangSupported(e))for(var t=0,n=["-","_"];t<n.length;t++){var r=n[t],o=e.split(r);if(this.__isLangSupported(o[0])){e=o[0];break}}return this.__isLangSupported(e)||(e="en-us"),e},__isLangSupported:function(e){return x.map((function(e){return e.isoName})).includes(e)}}},T=(n("20d6"),n("ac4d"),n("8a81"),{name:"ssdpMixin",data:function(){return{SSDPSearching:!1}},computed:{isSSDPSearching:function(){return this.SSDPSearching}},methods:{searchTarget:function(){var e=b()(g.a.mark((function e(t){var n,r=this;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.__isTargetValid(t);case 2:return this.SSDPSearching=!0,e.next=5,this.__searchServer(t).catch((function(e){return r.SSDPSearching=!1,new Promise((function(t,n){n(e)}))}));case 5:return n=e.sent,this.SSDPSearching=!1,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),__isTargetValid:function(){var e=b()(g.a.mark((function e(t){return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t?e(!0):n("No target given")})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),__searchServer:function(){var e=b()(g.a.mark((function e(t){var n;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$q.platform.is.cordova){e.next=6;break}return e.next=3,this.__handleCordova(t);case 3:n=e.sent,e.next=10;break;case 6:if(!window.electron){e.next=10;break}return e.next=9,window.electron.ipc.invoke("ssdpget");case 9:n=e.sent;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),__handleCordova:function(){var e=b()(g.a.mark((function e(t){return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){serviceDiscovery.getNetworkServices(t,(function(n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=[];if(c.ST===t){var l=document.createElement("a"),d=new DOMParser;l.href=c.LOCATION;var p=d.parseFromString(c.xml,"text/xml");if("parsererror"===p.documentElement.nodeName)continue;-1===u.findIndex((function(e){return e.value===l.host}))&&u.push({label:p.getElementsByTagName("friendlyName")[0].innerHTML,value:l.host})}}}catch(m){o=!0,i=m}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}e(list)}),(function(e){n("Cordova plugin: "+e)}))})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),searchHyperionServer:function(){var e=b()(g.a.mark((function e(){return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.searchTarget("urn:hyperion-project.org:device:basic:1");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),C=n("b06b"),q={name:"openUrlMixin",data:function(){return{}},methods:{openUrl:function(e){window.electron?window.electron.openUrl(e):Object(C["a"])(e)}}},_={name:"GpsMixin",mixins:[q,w],data:function(){return{}},methods:{getGpsPosition:function(){var e=b()(g.a.mark((function e(){var t,n,r,o=arguments;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!(o.length>0&&void 0!==o[0])||o[0],n=!1,!navigator.geolocation){e.next=6;break}return e.next=5,this._getBrowserPosition();case 5:n=e.sent;case 6:if(n){e.next=13;break}return e.next=9,this.openConfirmDialog({title:this.$t("utils.gps.not"),msg:this.$t("utils.gps.openBrowser")});case 9:r=e.sent,r&&this.openUrl("https://www.google.com/maps"),e.next=14;break;case 13:t&&this.$q.notify(this.$t("utils.gps.applied"));case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),_getBrowserPosition:function(){var e=b()(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){navigator.geolocation.getCurrentPosition((function(t){e(!!t&&{longitude:t.coords.longitude,latitude:t.coords.latitude})}),(function(n){t.$store.getters["common/getDebugState"]&&console.log("Browser geolocation: ".concat(n.message)),e(!1)}))})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}},D={name:"stringtonumber",data:function(){return{}},methods:{stringExpToInteger:function(e){return this.__stringExpToNumber(e,"int",1)},stringExpToFloat:function(e){return this.__stringExpToNumber(e,"float",1)},__stringExpToNumber:function(e,t,n){return void 0===e?[]:(e.trim(),e.includes(",")?(e=e.split(","),this.__handleRangeDelim(e,t,n)):(e=[e],this.__handleRangeDelim(e,t,n)),e.forEach((function(e,n,r){r[n]="int"===t?parseInt(e):parseFloat(e)})),e=e.filter((function(e,t,n){return"NaN"!==e})),e.filter((function(e,t,n){return n.indexOf(e)===t})))},__parseNumber:function(e,t){return"int"===t?parseInt(e):parseFloat(e)},__handleRangeDelim:function(e,t,n){var r=this;return e.forEach((function(e,o,i){if(e.includes("-")){var a=e.split("-");if(2===a.length){if(a[0]=r.__parseNumber(a[0],t),a[1]=r.__parseNumber(a[1],t),"NaN"===a[0]||"NaN"===a[1])return;var s,c;s=Math.min(a[0],a[1]),c=Math.max(a[0],a[1]);for(var u=s;u<c+1;u+=n)i.push(u)}i.splice(o,1)}})),e}}},$={name:"restartMixin",data:function(){return{}},methods:{restartApp:function(){window.electron?window.electron.restartApp():window.location.reload()}}},A=n("cdde"),E={name:"copyToClipBoardMixin",data:function(){return{}},methods:{copyToClipboard:function(e){var t=this;this.__copyToClipboard(e).then((function(){t.$q.notify(t.$t("utils.copiedToClipboard"))})).catch((function(e){console.error("Copy to clipboard failure: ".concat(e)),t.$q.notify({color:"negative",message:t.$t("utils.copyToClipboardFail",[": ".concat(e)])})}))},__copyToClipboard:function(){var e=b()(g.a.mark((function e(t){var n;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.electron){e.next=4;break}n=new Promise((function(e,n){window.electron.copyToClipboard(t),e(!0)})),e.next=7;break;case 4:return e.next=6,Object(A["a"])(t);case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}};(function(){var e=b()(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkForAppUpdate();case 2:t=e.sent,t?(n=this.openConfirmDialog({title:this.$t("app.updateAvail"),msg:this.$t("app.updateAvailMsg")}),n&&this.doAppUpdate()):this.$q.notify(this.$t("app.upToDate"));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}})(),function(){var e=b()(g.a.mark((function e(){var t;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.checkForAppUpdateRunner=!0,t=!1,e.next=8;break;case 5:t=e.sent,e.next=9;break;case 8:console.error("appUpdate.js CheckForUpdate NotImplemented for this platfomr");case 9:return this.checkForAppUpdateRunner=!1,e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}}(),function(){var e=b()(g.a.mark((function e(){var t,n,r,o,i,a,s,c,u;return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=34;break}return t=[],e.next=4,navigator.serviceWorker.getRegistrations();case 4:n=e.sent,r=!0,o=!1,i=void 0,e.prev=8,a=n[Symbol.iterator]();case 10:if(r=(s=a.next()).done){e.next=19;break}return c=s.value,e.next=14,this.__checkPWARegistration(c);case 14:u=e.sent,t.push(u);case 16:r=!0,e.next=10;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](8),o=!0,i=e.t0;case 25:e.prev=25,e.prev=26,r||null==a.return||a.return();case 28:if(e.prev=28,!o){e.next=31;break}throw i;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return e.abrupt("return",t.includes(!0));case 34:return e.abrupt("return",!1);case 35:case"end":return e.stop()}}),e,this,[[8,21,25,33],[26,,28,32]])})));function t(){return e.apply(this,arguments)}}(),function(){var e=b()(g.a.mark((function e(t){return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.onupdatefound((function(){console.log("a new service worker being installed");var n=t.installing;n.onstatechange((function(t){console.log("service worker at installing state change to: ".concat(t.target.state)),"installed"===t.target.state&&e(!0)}))})),console.log("Call sw registration update()"),t.update(),setTimeout((function(){e(!1)}),5e3)})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}}(),function(){var e=b()(g.a.mark((function e(){return g.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.error("appUpdate.js doAppUpdate NotImplemented for this platform");case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}}(),n("d8b7")},e45d:function(e,t,n){"use strict";var r=n("676c"),o=n.n(r);o.a},ed08:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return A}));var r={};n.r(r),n.d(r,"error",(function(){return a})),n.d(r,"success",(function(){return s}));var o={};n.r(o),n.d(o,"toHex",(function(){return c}));var i=n("2a19");function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i["a"].create({message:n?e+": "+n:e,icon:t,color:"negative"})}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i["a"].create({message:n?e+": "+n:e,icon:t,color:"positive"})}var c=function(e){switch(e){case"hyperion":return"#2b819a";case"red":return"#f44336";case"pink":return"#e91e63";case"purple":return"#9c27b0";case"deep-purple":return"#673ab7";case"indigo":return"#3f51b5";case"cyan":return"#00bcd4";case"teal":return"#009688";case"green":return"#4caf50";case"lime":return"#cddc39";case"amber":return"#ffc107";case"orange":return"#ff9800";case"deep-orange":return"#ff5722";case"brown":return"#795548";default:return"#027be3"}},u=function(e,t){var n=!1,r=null;return function o(){var i=this;n?r=arguments:(e.apply(this,arguments),n=setTimeout((function(){n=!1,r&&(o.apply(i,r),r=null)}),t))}},l=n("2b0e"),d=new l["a"],p=n("967e"),m=n.n(p),f=(n("96cf"),n("fa84")),h=n.n(f);n("34ef");function g(e,t,n,r){return v.apply(this,arguments)}function v(){return v=h()(m.a.mark((function e(t,n,r,o){var i,a,s,c;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={name:"PBKDF2",hash:"SHA-256",salt:(new TextEncoder).encode(n),iterations:1e3},a={name:r,length:o},s=(new TextEncoder).encode(t),e.next=5,crypto.subtle.importKey("raw",s,{name:"PBKDF2"},!1,["deriveKey"]);case 5:return c=e.sent,e.abrupt("return",crypto.subtle.deriveKey(i,c,a,!1,["encrypt","decrypt"]));case 7:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function b(e,t,n,r,o,i){return k.apply(this,arguments)}function k(){return k=h()(m.a.mark((function e(t,n,r,o,i,a){var s,c,u;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={name:o,length:i,iv:crypto.getRandomValues(new Uint8Array(a))},e.next=3,g(n,r,o,i);case 3:return c=e.sent,u=(new TextEncoder).encode(t),e.next=7,crypto.subtle.encrypt(s,c,u);case 7:return e.t0=e.sent,e.t1=s.iv,e.abrupt("return",{cipherText:e.t0,iv:e.t1});case 10:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function w(e,t,n,r,o){return y.apply(this,arguments)}function y(){return y=h()(m.a.mark((function e(t,n,r,o,i){var a,s,c;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={name:o,length:i,iv:t.iv},e.next=3,g(n,r,o,i);case 3:return s=e.sent,e.next=6,crypto.subtle.decrypt(a,s,t.cipherText);case 6:return c=e.sent,e.abrupt("return",(new TextDecoder).decode(c));case 8:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}n("c5f6"),n("5df2");function x(e){return Number.parseFloat(e.toFixed(4))}var S=n("d624"),T=n.n(S);n("7f7f"),n("551c"),n("06db"),n("6762"),n("2fdb");function C(){var e=T()(["Failed to parse file '","'. Error: ",""]);return C=function(){return e},e}function q(e){return _.apply(this,arguments)}function _(){return _=h()(m.a.mark((function e(t){var n;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.type.includes("image")){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.addEventListener("load",(function(){e(r.result)}),!1),r.readAsDataURL(t)})));case 4:if(!t.type.includes("json")){e.next=17;break}return e.next=7,t.text();case 7:return n=e.sent,e.prev=8,e.abrupt("return",JSON.parse(n));case 12:throw e.prev=12,e.t0=e["catch"](8),{name:e.t0.name,message:this.$t("validate.parseFile",["'".concat(t.name,"''"),e.t0.message])(C(),t.name,e.t0.message)};case 15:e.next=18;break;case 17:throw{name:"NotImplemented",message:"Unhandled readFile type: ".concat(t.type)};case 18:case"end":return e.stop()}}),e,this,[[8,12]])}))),_.apply(this,arguments)}n("7514"),n("ac4d"),n("8a81"),n("ac6a");function D(e){return $.apply(this,arguments)}function $(){return $=h()(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.filter,r=t.multiple,e.abrupt("return",new Promise((function(e,t){var o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept",n.map((function(e){return".".concat(e)})).join(",")),r&&o.setAttribute("multiple",!0),o.click(),o.addEventListener("change",(function(t){e(t.path[0].files)}),{once:!0}),setTimeout((function(){return e([])}),12e4)})));case 2:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function A(e){return E.apply(this,arguments)}function E(){return E=h()(m.a.mark((function e(t){var n,r,o,i,a,s,c,u,l,d;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.files,r=t.newFiles,o=t.filter,i=t.multiple,a=!0,s=!1,c=void 0,e.prev=4,u=m.a.mark((function e(){var t,r,a,s,c,u,l,p,f,h;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=d.value,n.find((function(e){return e.name==t.name&&e.size==t.size}))){e.next=34;break}r=!0,a=!1,s=void 0,e.prev=5,c=o[Symbol.iterator]();case 7:if(r=(u=c.next()).done){e.next=20;break}if(l=u.value,!t.type.includes(l)){e.next=17;break}return p=void 0,e.next=13,q(t);case 13:f=e.sent,t.type.includes("image")&&(p=f),h={name:t.name,type:t.type,size:t.size,preview:p,data:f},i?n.push(h):n.splice(0,1,h);case 17:r=!0,e.next=7;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](5),a=!0,s=e.t0;case 26:e.prev=26,e.prev=27,r||null==c.return||c.return();case 29:if(e.prev=29,!a){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(26);case 34:case"end":return e.stop()}}),e,null,[[5,22,26,34],[27,,29,33]])})),l=r[Symbol.iterator]();case 7:if(a=(d=l.next()).done){e.next=12;break}return e.delegateYield(u(),"t0",9);case 9:a=!0,e.next=7;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e["catch"](4),s=!0,c=e.t1;case 18:e.prev=18,e.prev=19,a||null==l.return||l.return();case 21:if(e.prev=21,!s){e.next=24;break}throw c;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,null,[[4,14,18,26],[19,,21,25]])}))),E.apply(this,arguments)}function I(e){return L.apply(this,arguments)}function L(){return L=h()(m.a.mark((function e(t){var n,r,o,i;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.files,r=t.filter,o=t.multiple,!window.electron){e.next=7;break}return e.next=4,window.electron.openFileDialog({files:n,filter:r,multiple:o});case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,D({filter:r,multiple:o});case 9:return i=e.sent,e.next=12,A({files:n,newFiles:i,filter:r,multiple:o});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}}});