(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0116":function(t,e,o){},1107:function(t,e,o){"use strict";var n=o("7585"),s=o.n(n);s.a},"2af9":function(t,e,o){"use strict";o.d(e,"a",(function(){return $})),o.d(e,"c",(function(){return S})),o.d(e,"e",(function(){return V})),o.d(e,"d",(function(){return Z})),o.d(e,"b",(function(){return rt}));var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"page",staticClass:"row"},[o("div",{staticClass:"col-xs-12 col-md-6 q-pa-md"},[o("color-picker")],1),o("div",{staticClass:"col-xs-12 col-md-6 q-pt-sm"},[o("q-list",[o("q-item",[o("q-item-section",{attrs:{side:""}},[o("q-icon",{attrs:{name:"brightness_low"}})],1),o("q-item-section",[o("q-slider",{attrs:{min:0,max:100,label:"","label-value":t.modBrightness+"%"},model:{value:t.modBrightness,callback:function(e){t.modBrightness=e},expression:"modBrightness"}})],1),o("q-item-section",{attrs:{side:""}},[o("q-icon",{attrs:{name:"brightness_high"}})],1)],1),o("q-item",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters["common/getFavColors"].length>0,expression:"$store.getters['common/getFavColors'].length > 0"}]},[o("q-item-section",[o("favourite-colors")],1)],1),o("q-item",[o("q-item-section",[o("q-select",{attrs:{hint:t.$t("remote.effects.help"),label:t.$t("remote.effects.title"),"bottom-slots":"",options:t.getEffects,"emit-value":"","map-options":""},model:{value:t.currEffect,callback:function(e){t.currEffect=e},expression:"currEffect"}})],1)],1)],1)],1),o("drop-zone")],1)},s=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-menu",{attrs:{"context-menu":""}},[o("q-list",{attrs:{dense:""}},[o("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){t.showEditDialog=!0}}},[o("q-item-section",[t._v("\n          "+t._s(t.$t("remote.colors.editFavColors"))+"\n        ")])],1)],1)],1),o("div",{staticClass:"flex"},t._l(t.favColors,(function(e,n){return o("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,staticClass:"grid-item row content-start relative-position cursor-pointer shadow-1",class:{"bg-grey-5":e.color.length>1},style:e.color.length>1?"":"background-color: "+e.color,on:{click:function(e){return t.setColor(n)}}},[e.color.length>1?t._l(t.getColorByIndex(n),(function(n,s){return o("div",{key:s+n,staticClass:"inset-shadow-1",class:t.gridItemClassByLength(e.color.length),style:"background-color: "+n})})):t._e()],2)})),0),o("q-dialog",{model:{value:t.showEditDialog,callback:function(e){t.showEditDialog=e},expression:"showEditDialog"}},[o("q-card",{staticStyle:{width:"800px"}},[o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("remote.colors.editFavColors")))])]),o("q-card-section",{staticClass:"q-dialog__message"},[t._v("\n        "+t._s(t.$t("remote.colors.editFavColors_desc"))+"\n\n      ")]),o("q-card-section",[o("q-list",[o("draggable",t._b({attrs:{list:t.favColors,handle:".fav-colors-handle"}},"draggable",t.dragOptions,!1),t._l(t.favColors,(function(e,n){return o("q-item",{key:n,attrs:{dense:""}},[o("q-item-section",{attrs:{side:""}},[o("q-icon",{staticClass:"fav-colors-handle",attrs:{name:"fas fa-align-justify cursor-pointer"}})],1),o("q-item-section",[o("draggable",{staticClass:"flex",attrs:{list:t.favColors[n].color,group:"favcolgroup","ghost-class":"favourite-ghost",animation:150,draggable:".favc-draggable",filter:".favc-filter"},on:{remove:function(e){return t.onRemove(e,n)},start:function(e){t.colorDrag=!0},end:function(e){t.colorDrag=!1}}},[t._l(t.favColors[n].color,(function(e,s){return o("div",{key:s,staticClass:"grid-item-edit favc-draggable cursor-pointer position-relative shadow-1",on:{click:function(o){return t.setPickerData(n,s,e)}}},[o("div",{staticClass:"fit",style:"background:"+e}),o("q-popup-proxy",[o("div",[o("q-color",{attrs:{value:t.initialPickerColor,"format-model":"hex","no-footer":""},on:{change:function(e){return t.modColor(t.currIndex,t.currColorIndex,e)}}})],1)])],1)})),o("div",{staticClass:"grid-item-edit cursor-pointer position-relative flex flex-center favc-filter",staticStyle:{background:"rgba(219, 219, 219, 0.59)"},on:{click:function(e){return t.addColor(n)}}},[o("q-icon",{staticClass:"rotate-45",attrs:{name:"fas fa-times close"}}),o("q-menu",{attrs:{"context-menu":""}},[o("q-list",{attrs:{dense:""}},[t._l(t.favColors[n].color,(function(e,s){return[o("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:s,attrs:{clickable:""},on:{click:function(o){return o.stopPropagation(),t.addColor(n,e)}}},[o("q-item-section",{attrs:{side:""}},[t._v("\n                              "+t._s(s+1)+"\n                            ")]),o("q-item-section",[o("div",{staticClass:"grid-item-small shadow-1",style:"background:"+e})])],1)]}))],2)],1)],1)],2)],1),o("q-item-section",{attrs:{side:""}},[o("draggable",t._b({attrs:{list:t.trashList,group:"favcolgroup","ghost-class":"hide-ghost"}},"draggable",t.trashOptions,!1),[o("q-icon",{ref:"trashicon",refInFor:!0,staticClass:"cursor-pointer",class:{"zoom-2":t.colorDrag},attrs:{name:"fas fa-trash-alt",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.removeEntryAt(n)}}})],1)],1)],1)})),1)],1)],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{attrs:{flat:"",label:t.$t("label.add"),color:"primary"},on:{click:function(e){return e.stopPropagation(),t.addEntry(e)}}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"}})],1)],1)],1)],1)},i=[],a=o("310e"),c=o.n(a),l=o("e325"),u=o("bc78"),m=o("ed08"),d=u["a"].hexToRgb,p={name:"FavouriteColors",mixins:[l["d"]],components:{draggable:c.a},props:{showEdit:Boolean},data:function(){return{favColors:this.$store.getters["common/getFavColors"],trashList:[],colorDrag:!1,showEditDialog:this.showEdit,currIndex:0,currColorIndex:0,initialPickerColor:"#fff"}},created:function(){m["a"].$on("favcolorsedit",this.openEditDialog)},beforeDestroy:function(){m["a"].$off("favcolorsedit",this.openEditDialog)},computed:{dragOptions:function(){return{animation:150,group:"description",disabled:!1,ghostClass:"favourite-ghost"}},trashOptions:function(){return{group:{name:"trash",put:function(){return!0},pull:!1}}}},methods:{gridItemClassByLength:function(t){return t<3?"grid-item-2":t<5?"grid-item-4":t<7?"grid-item-6":t<9?"grid-item-8":t<13?"grid-item-12":"grid-item-16"},getColorByIndex:function(t){return this.favColors[t].color.slice(0,16)},setPickerData:function(t,e,o){this.currIndex=t,this.currColorIndex=e,this.initialPickerColor=o},modColor:function(t,e,o){this.favColors[t].color.splice(e,1,o)},setColor:function(t){var e=[];this.favColors[t].color.forEach((function(t){var o=d(t);for(var n in o)e.push(o[n])})),this.$socket.setColor(e)},addEntry:function(){this.favColors.push({id:this.getRandomHash(),color:["#ff0000"]})},removeEntryAt:function(t){this.favColors.splice(t,1)},addColor:function(t,e){this.favColors[t].color.push(e||this.favColors[t].color.slice(-1)[0]||"#ff0000")},onRemove:function(t,e){0===t.oldIndex&&this.removeEntryAt(e)},openEditDialog:function(){this.showEditDialog=!0}}},g=p,h=(o("3084"),o("2877")),f=Object(h["a"])(g,r,i,!1,null,null,null),v=f.exports,b=o("96a4"),_=o("53c9"),k={name:"ColorPicker",components:{"color-picker":_["b"],"favourite-colors":v,"drop-zone":b["b"]},data:function(){return{currEffect:""}},created:function(){this.setBrightness=Object(m["i"])(this.setBrightness,100)},computed:{modBrightness:{get:function(){return this.$store.getters["api/getBrightness"]},set:function(t){this.$store.commit("api/setBrightness",t),this.setBrightness(t)}},getEffects:function(){var t=[{label:"-",value:""}];return t.concat(this.$store.getters["api/getSelectPreparedEffectsFiltered"])}},watch:{currEffect:function(t,e){""!==t&&this.$socket.setEffect(t)}},methods:{setBrightness:function(t){this.$socket.setAdjustment(void 0,"brightness",t)}}},q=k,C=Object(h["a"])(q,n,s,!1,null,null,null),$=C.exports,x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-list",{attrs:{bordered:!t.$q.dark.isActive}},[o("q-item-section",[t._v("\n    "+t._s(t.$t("remote.plugins.subTitle"))+"\n  ")]),t._l(t.getPlugins,(function(e){var n=e[0],s=e[1];return o("q-item",{key:n},[o("q-item-section",[t._v("\n      "+t._s(s.name)+"\n    ")]),o("q-item-section",{attrs:{side:""}},[o("q-toggle",{attrs:{value:s.running},on:{change:function(e){return t.setPluginEnable(n,e)}}})],1)],1)}))],2)},y=[],w=(o("ac6a"),o("cadf"),o("06db"),o("ffc1"),{name:"HPluginsList",data:function(){return{}},computed:{getPlugins:function(){return Object.entries(this.$store.getters["api/getPlugins"])}},methods:{setPluginEnable:function(t,e){this.$socket.setPluginState(t,e)}}}),D=w,T=Object(h["a"])(D,x,y,!1,null,null,null),S=T.exports,L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-select",{attrs:{hint:t.$t("ui.lang_desc"),label:t.$t("ui.lang"),"bottom-slots":t.showHint,options:t.langOptions,"emit-value":"","map-options":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"language"}})]},proxy:!0}]),model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}})},A=[],I={mixins:[l["f"]],props:{showHint:{type:Boolean,default:!0}},data:function(){return{lang:this.$store.getters["common/getLang"]}},watch:{lang:function(t){this.setAppLang(t)}},created:function(){this.langOptions=this.getAppLanguages().map((function(t){return{label:t.nativeName,value:t.isoName}}))}},E=I,P=Object(h["a"])(E,L,A,!1,null,null,null),j=P.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-list",[o("q-item-label",{staticClass:"header-text",attrs:{header:""}},[t._v("\n    "+t._s(t.$t("ui.listLabel"))+"\n  ")]),o("q-item",[o("q-item-section",[o("lang-select")],1)],1),o("q-item",[o("q-item-section",[o("q-select",{attrs:{hint:t.$t("ui.themeColor_desc"),label:t.$t("ui.themeColor"),"bottom-slots":"",options:t.getAvailThemeColors,"emit-value":"","map-options":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"color_lens"}})]},proxy:!0},{key:"option",fn:function(e){return[o("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:e.opt.icon,color:e.opt.color}})],1),o("q-item-section",[o("q-item-label",{domProps:{innerHTML:t._s(e.opt.label)}})],1)],1)]}}]),model:{value:t.modThemeColor,callback:function(e){t.modThemeColor=e},expression:"modThemeColor"}})],1)],1),o("q-item",[o("q-item-section",[o("q-select",{attrs:{hint:t.$t("ui.darkMode_desc"),label:t.$t("ui.darkMode"),"bottom-slots":"",options:t.getDarkModeOptions,"emit-value":"","map-options":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"brightness_3"}})]},proxy:!0}]),model:{value:t.modDarkMode,callback:function(e){t.modDarkMode=e},expression:"modDarkMode"}})],1)],1),t._e(),"gps"===t.modDarkMode?o("q-item",[o("q-item-section",[o("q-input",{attrs:{label:t.$t("label.longitude")},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"brightness_3"}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"gps_fixed"},on:{click:function(e){return e.stopPropagation(),t.getLongLat(e)}}})]},proxy:!0}],null,!1,4292464647),model:{value:t.modDarkLong,callback:function(e){t.modDarkLong=e},expression:"modDarkLong"}})],1)],1):t._e(),"gps"===t.modDarkMode?o("q-item",[o("q-item-section",[o("q-input",{attrs:{label:t.$t("label.latitude")},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"brightness_3"}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"gps_fixed"},on:{click:function(e){return e.stopPropagation(),t.getLongLat(e)}}})]},proxy:!0}],null,!1,4292464647),model:{value:t.modDarkLat,callback:function(e){t.modDarkLat=e},expression:"modDarkLat"}})],1)],1):t._e(),o("q-item",{directives:[{name:"show",rawName:"v-show",value:"time"===t.modDarkMode||"gps"===t.modDarkMode,expression:"modDarkMode==='time' || modDarkMode ==='gps'"}]},[o("q-item-section",[o("q-input",{attrs:{readonly:"gps"===t.modDarkMode,value:t.getDarkTimespanInput,mask:"##:## - ##:##",error:t.timespanError,"error-message":t.$t("validate.timespan"),"bottom-slots":"","hide-hint":"",hint:t.$t("ui.darkTimespan_desc"),label:t.$t("ui.darkTimespan")},on:{input:t.setDarkTimespan},scopedSlots:t._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"brightness_3"}})]},proxy:!0},"time"===t.modDarkMode?{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[o("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-scroller",{style:t.scrollerPopupStyle250,attrs:{view:"time-range","disable-validation":"","rounded-borders":"","no-border":"","no-footer":"",hour12:!t.$q.lang.date.format24h,"inner-color":t.$q.dark.isActive?"grey-9":"white","inner-text-color":t.$q.dark.isActive?"grey-2":"grey-8"},model:{value:t.modDarkTimespan,callback:function(e){t.modDarkTimespan=e},expression:"modDarkTimespan"}})],1)],1)]},proxy:!0}:null],null,!0)})],1)],1),t._e(),o("q-item",{attrs:{tag:"label"}},[o("q-item-section",[o("q-item-label",[t._v("\n        "+t._s(t.$t("ui.backToTop"))+"\n      ")])],1),o("q-item-section",{attrs:{side:""}},[o("q-toggle",{model:{value:t.modBackToTop,callback:function(e){t.modBackToTop=e},expression:"modBackToTop"}})],1),o("q-tooltip",{attrs:{delay:1e3}},[t._v("\n      "+t._s(t.$t("ui.backToTop_desc"))+"\n    ")])],1)],1)},B=[],R=o("967e"),M=o.n(R),z=(o("96cf"),o("fa84")),H=o.n(z),F=(o("28a5"),o("ac4d"),o("8a81"),o("cf59")),N={name:"UiSettings",mixins:[l["e"]],components:{"lang-select":j,"q-scroller":F["a"]},data:function(){return{timespanError:!1}},computed:{getAvailThemeColors:function(){var t=[],e=!0,o=!1,n=void 0;try{for(var s,r=this.$store.getters["temp/getAvailThemeColors"][Symbol.iterator]();!(e=(s=r.next()).done);e=!0){var i=s.value;t.push({label:this.$i18n.t("colors."+i),value:i,icon:"color_lens",color:i})}}catch(a){o=!0,n=a}finally{try{e||null==r.return||r.return()}finally{if(o)throw n}}return t},modThemeColor:{get:function(){return this.$store.getters["common/getThemeColor"]},set:function(t){this.$store.commit("common/setThemeColor",t),u["a"].setBrand("primary",m["h"].toHex(this.$store.getters["common/getThemeColor"])),this.$q.addressbarColor.set(),this.$q.platform.is.cordova&&"android"===cordova.platformId&&StatusBar.backgroundColorByHexString(m["h"].toHex(this.$store.getters["common/getThemeColor"]))}},getDarkModeOptions:function(){var t=this;return this.$store.getters["common/getDarkModeOptions"].map((function(e){return{label:t.$t("ui.darkMode_"+e),value:e}}))},modDarkMode:{get:function(){return this.$store.getters["common/getDarkMode"]},set:function(t){this.$store.commit("common/setDarkMode",t)}},modDarkTimespan:{get:function(){return this.$store.getters["common/getDarkTimespan"]},set:function(t){this.$store.commit("common/setDarkTimespan",t)}},getDarkTimespanInput:function(){return this.$store.getters["common/getDarkStartTime"]+" - "+this.$store.getters["common/getDarkEndTime"]},modDarkStartTime:{get:function(){return this.$store.getters["common/getDarkStartTime"]},set:function(t){this.$store.commit("common/setDarkStartTime",t)}},modDarkEndTime:{get:function(){return this.$store.getters["common/getDarkEndTime"]},set:function(t){this.$store.commit("common/setDarkEndTime",t)}},modDarkLong:{get:function(){return this.$store.getters["common/getDarkLong"]},set:function(t){this.$store.commit("common/setDarkLong",t)}},modDarkLat:{get:function(){return this.$store.getters["common/getDarkLat"]},set:function(t){this.$store.commit("common/setDarkLat",t)}},modBackToTop:{get:function(){return this.$store.getters["common/isBacktoTop"]},set:function(t){this.$store.commit("common/setBackToTop",t)}},scrollerPopupStyle250:function(){return this.$q.screen.lt.sm?{width:"90vw",height:"25vh"}:{maxHeight:"200px",height:"200px",width:"250px"}}},methods:{setDarkTimespan:function(t){if(this.lmodDarkTimespanInput=t,13===t.length&&this.validateTime(t)){this.timespanError=!1;var e=t.split(" - ");this.$store.commit("common/setDarkStartTime",e[0]),this.$store.commit("common/setDarkEndTime",e[1])}else this.timespanError=!0},validateTime:function(t){var e=t.split("-");if(2===e.length){var o=e[0].trim(),n=e[1].trim();if(this.isValidTime(o)&&this.isValidTime(n))return!0}return!1},isValidTime:function(t){var e=t.split(":");if(2===e.length){var o=parseInt(e[0],10),n=parseInt(e[1],10);if(o>=0&&o<24&&n>=0&&n<60)return!0}return!1},getLongLat:function(){var t=H()(M.a.mark((function t(){var e;return M.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getGpsPosition();case 2:e=t.sent,e&&(this.$store.commit("common/setDarkLong",e.longitude),this.$store.commit("common/setDarkLat",e.latitude));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},U=N,G=(o("cc1e"),Object(h["a"])(U,O,B,!1,null,null,null)),V=G.exports,W=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-list",[o("q-item-label",{staticClass:"header-text",attrs:{header:""}},[t._v("\n    "+t._s(t.$t("service.title"))+"\n  ")]),o("q-item",{attrs:{tag:"label"}},[o("q-item-section",[t._v("\n      "+t._s(t.$t("service.debug"))+"\n    ")]),o("q-item-section",{attrs:{side:""}},[o("q-toggle",{model:{value:t.modDebugState,callback:function(e){t.modDebugState=e},expression:"modDebugState"}})],1),o("q-tooltip",{attrs:{delay:1e3}},[t._v("\n      "+t._s(t.$t("service.debug_desc"))+"\n    ")])],1),t.showAppUpdate?o("q-item",{attrs:{tag:"label",disable:t.isAppUpdateRunning},on:{click:t.checkAppUpdate}},[o("q-item-section",[t._v("\n      "+t._s(t.$t("service.appUpdate"))+"\n    ")]),o("q-tooltip",{attrs:{delay:1e3}},[t._v("\n      "+t._s(t.$t("service.appUpdate_desc"))+"\n    ")])],1):t._e(),o("q-item",{attrs:{clickable:""},on:{click:t.openDialog}},[o("q-item-section",[t._v("\n      "+t._s(t.$t("service.resetAppData"))+"\n    ")]),o("q-tooltip",{attrs:{delay:1e3}},[t._v("\n      "+t._s(t.$t("service.resetAppData_desc"))+"\n    ")])],1)],1)},K=[],J=[l["b"],l["h"]];var Q={name:"ServiceSettings",mixins:J,data:function(){return{}},computed:{modDebugState:{get:function(){return this.$store.getters["common/getDebugState"]},set:function(t){this.$store.commit("common/setDebugState",t)}},showAppUpdate:function(){return!1}},methods:{openDialog:function(){var t=H()(M.a.mark((function t(){var e;return M.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.openConfirmDialog({title:this.$t("service.resetAppData"),msg:this.$t("service.resetAppData_desc")});case 2:e=t.sent,e&&(window&&window.localStorage&&window.localStorage.clear(),this.restartApp());case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkAppUpdate:function(){var t=H()(M.a.mark((function t(){return M.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.checkForAppUpdateAndAsk();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},X=Q,Y=Object(h["a"])(X,W,K,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-list",[o("q-item-label",{staticClass:"header-text",attrs:{header:""}},[t._v("\n    "+t._s(t.$t("conn.settingsListLabel"))+"\n  ")]),o("q-item",{attrs:{tag:"label"}},[o("q-item-section",[o("q-item-label",[t._v("\n        "+t._s(t.$t("conn.autoDisconnect"))+"\n      ")])],1),o("q-item-section",{attrs:{side:""}},[o("q-toggle",{model:{value:t.modAutoDisconnect,callback:function(e){t.modAutoDisconnect=e},expression:"modAutoDisconnect"}})],1),o("q-tooltip",{attrs:{delay:1e3}},[t._v("\n      "+t._s(t.$t("conn.autoDisconnect_desc"))+"\n    ")])],1)],1)},et=[],ot={name:"ConnectionSettings",data:function(){return{}},computed:{modAutoDisconnect:{get:function(){return this.$store.getters["connection/getAutoDisconnect"]},set:function(t){this.$store.commit("connection/setAutoDisconnect",t)}}}},nt=ot,st=Object(h["a"])(nt,tt,et,!1,null,null,null),rt=st.exports},3084:function(t,e,o){"use strict";var n=o("0116"),s=o.n(n);s.a},"53c9":function(t,e,o){"use strict";o.d(e,"e",(function(){return l})),o.d(e,"b",(function(){return v})),o.d(e,"d",(function(){return w})),o.d(e,"c",(function(){return I})),o.d(e,"a",(function(){return z}));var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-table",{attrs:{title:t.$t("remote.prio.title"),data:t.getPriorities,columns:t.columns,"row-key":"name","hide-bottom":t.getPriorities.length<=5,dense:t.$q.screen.lt.md,"visible-columns":t.visCols,flat:"","wrap-cells":""},scopedSlots:t._u([{key:"top-right",fn:function(){return[t.getPrioritiesAutoSelect?t._e():o("q-btn",{attrs:{outline:"",dense:"",label:t.$t("remote.prio.auto")},on:{click:function(e){return e.stopPropagation(),t.setAutoSelect(e)}}},[o("q-tooltip",{attrs:{delay:1e3}},[t._v(t._s(t.$t("remote.prio.auto_desc")))])],1)]},proxy:!0},{key:"body",fn:function(e){return[o("q-tr",{staticClass:"cursor-pointer",attrs:{props:e},on:{click:function(o){return o.stopPropagation(),t.setPrio(e.row)}}},[o("q-td",{key:"select",attrs:{props:e}},[o("q-radio",{attrs:{value:e.row.visible,disable:!e.row.active,val:!0},on:{input:function(o){return t.setPrio(e.row)}}})],1),o("q-td",{key:"priority",attrs:{props:e}},[t._v("\n        "+t._s(e.row.priority)+"\n      ")]),o("q-td",{key:"type",attrs:{props:e}},[o("div",{staticClass:"row items-center"},[t._v("\n          "+t._s(t.getType(e.row))+"\n\n          "),"COLOR"==e.row.componentId?o("div",{staticClass:"q-ml-xs color-circle shadow-1",style:"background:rgb("+e.row.value.RGB.join(",")+")"}):t._e()]),t.hasDuration(e.row)?o("div",{staticClass:"q-dialog__message"},[t._v(t._s(t.$t("remote.prio.duration"))+": "+t._s(t.msToHumanTime(e.row.duration_ms)))]):t._e()]),o("q-td",{key:"del",attrs:{props:e}},[o("q-btn",{attrs:{icon:"delete",disable:!t.canClear(e.row),flat:"",round:"",dense:""},on:{click:function(o){return o.stopPropagation(),t.clearPriority(e.row.priority)}}})],1)],1)]}}])})},s=[],r=(o("c5f6"),{name:"PrioritiesTable",data:function(){return{columns:[{name:"select",label:this.$t("remote.prio.selected"),align:"left",field:"select",sortable:!0,sort:function(t,e,o,n){return Number(t)-Number(e)}},{name:"priority",label:this.$t("remote.prio.prio"),align:"left",field:"priority",sortable:!0,sort:function(t,e,o,n){return Number(t)-Number(e)}},{name:"type",align:"left",label:this.$t("remote.prio.type"),field:"type",sortable:!0},{name:"del",align:"left",label:this.$q.lang.label.remove,field:"del"}]}},computed:{getPriorities:function(){return this.$store.getters["api/getPriorities"]},getPrioritiesAutoSelect:function(){return this.$store.getters["api/getPrioritiesAutoSelect"]},visCols:function(){return this.$q.screen.lt.sm?["select","type","del"]:["select","priority","type","del"]}},methods:{canClear:function(t){return t.priority<254&&("EFFECT"==t.componentId||"COLOR"==t.componentId||"IMAGE"==t.componentId)},hasDuration:function(t){return t.duration_ms>0&&("EFFECT"==t.componentId||"COLOR"==t.componentId||"IMAGE"==t.componentId)},msToHumanTime:function(t){var e=new Date(t),o=e.getUTCMinutes(),n=e.getUTCSeconds();return o>0?"".concat(o,"m ").concat(n,"s"):"".concat(n,"s")},setAutoSelect:function(){this.$socket.setPriorityAutoSelect(!0)},setPrio:function(t){!t.visible&&t.active&&this.$socket.setPriority(t.priority)},getType:function(t){var e;switch(t.componentId){case"EFFECT":e="".concat(this.$t("remote.prio.eff"),": ").concat(t.owner);break;case"COLOR":e="".concat(this.$t("remote.prio.color"),":");break;case"IMAGE":e=this.$t("remote.prio.img");break;case"IMAGESTREAM":e=this.$t("remote.prio.imgStream");break;case"GRABBER":e=this.$t("remote.comp.GRABBER");break;case"V4L":e=this.$t("remote.comp.V4L");break;default:e=this.$t("remote.comp.".concat(t.componentId));break}return e},clearPriority:function(t){this.$socket.setClear(t)}}}),i=r,a=(o("1107"),o("2877")),c=Object(a["a"])(i,n,s,!1,null,null,null),l=c.exports,u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"relative-position"},[o("q-resize-observer",{on:{resize:t.onResize}}),o("q-btn",{staticClass:"absolute-top-right",attrs:{round:"",unelevated:"",icon:"clear"},on:{click:function(e){return e.stopPropagation(),t.requestClear(e)}}}),o("div",{staticClass:"flex flex-center"},[o("div",{ref:"m_colorpicker"})])],1)},m=[],d=o("a900"),p=o("ed08"),g={name:"ColorPicker",data:function(){return{colorPicker:null,currWidth:0,currColor:this.$store.getters["common/getColor"]}},created:function(){this.sendColor=Object(p["i"])(this.sendColor,100)},beforeDestroy:function(){this.setColor(this.currColor)},methods:{requestClear:function(){this.$socket.setClear()},setColor:function(t){this.$store.commit("common/setColor",t)},sendColor:function(t){this.$socket.setColor([t.rgb.r,t.rgb.g,t.rgb.b]),this.currColor=t.rgb},onResize:function(t){t.width>400&&(t.width=400);var e=t.width-32;null===this.colorPicker?(this.colorPicker=new d["a"].ColorPicker(this.$refs.m_colorpicker,{width:e,color:this.currColor,padding:2,display:"relative",sliderMargin:14,sliderSize:36}),this.colorPicker.on("input:change",this.sendColor)):this.currWidth!==e&&(this.currWidth=e,this.colorPicker.resize(e,0))}}},h=g,f=Object(a["a"])(h,u,m,!1,null,null,null),v=f.exports,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"relative-position"},[o("q-resize-observer",{on:{resize:t.onResize}}),o("canvas",{ref:"ledCanvas",staticClass:"shadow-8 absolute-top-left",staticStyle:{"z-index":"3"}}),o("canvas",{ref:"imageCanvas",staticClass:"shadow-8 absolute-top-left",staticStyle:{"z-index":"2"}}),o("div",{ref:"flowHelper"}),o("q-menu",{attrs:{"context-menu":""}},[o("q-list",{attrs:{dense:""}},[o("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[o("q-item-section",[t._v("\n          "+t._s(t.$t("btn.toggleLeds"))+"\n        ")]),o("q-item-section",{attrs:{side:""}},[o("q-toggle",{attrs:{value:t.streamingLeds},on:{input:t.toggleLedsStream}})],1)],1),o("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[o("q-item-section",[t._v("\n          "+t._s(t.$t("btn.toggleImage"))+"\n        ")]),o("q-item-section",{attrs:{side:""}},[o("q-toggle",{attrs:{value:t.streamingImage},on:{input:t.toggleImageStream}})],1)],1)],1)],1)],1)},_=[],k=(o("ac4d"),o("8a81"),o("ac6a"),o("6c7b"),o("f3e3")),q=o.n(k),C=o("1732");CanvasRenderingContext2D.prototype.Hclear=function(){this.clearRect(0,0,this.canvas.width,this.canvas.height)};var $={name:"LedVisualization",data:function(){return{led2dctx:null,image2dctx:null,uuid:Object(C["a"])(),paths2d:[],ledsLength:1,streamingLeds:!0,streamingImage:!1,lastLedColors:null,imageResetTimer:null}},mounted:function(){this.image2dctx=this.$refs.imageCanvas.getContext("2d"),this.led2dctx=this.$refs.ledCanvas.getContext("2d"),this.__setCanvasSize(100,62.5),this.adjustCanvas(),this.__setLedStreamState(!0)},beforeDestroy:function(){this.__setLedStreamState(!1),this.__setImageStreamState(!1),clearInterval(this.imageResetTimer),this.$store.commit("temp/setLastLedColors",this.lastLedColors)},computed:{getLeds:function(){return this.$store.getters["api/getLeds"]}},watch:{getLeds:function(){this.adjustCanvas()}},methods:{onResize:function(t){this.image2dctx&&(this.__setCanvasSize(t.width,t.width/1.6),this.adjustCanvas())},adjustCanvas:function(){this.__update2dPaths(),this.__printLedsToCanvas(),this.__resetImage()},toggleLedsStream:function(){this.streamingLeds?(this.__setLedStreamState(!1),this.led2dctx.Hclear()):this.__setLedStreamState(!0),this.streamingLeds=!this.streamingLeds},toggleImageStream:function(){this.streamingImage?(this.__setImageStreamState(!1),this.__resetImage()):this.__setImageStreamState(!0),this.streamingImage=!this.streamingImage},setLedColors:function(t){this.__printLedsToCanvas(t.result.leds)},setImage:function(t){var e=this;clearInterval(this.imageResetTimer),this.imageResetTimer=setTimeout((function(){return e.__resetImage()}),2e3);var o=new Image;o.onload=function(){e.image2dctx.drawImage(o,0,0,e.image2dctx.canvas.width,e.image2dctx.canvas.height)},o.src=t.result.image},__setLedStreamState:function(t){t?p["a"].$on("ledcolors-ledstream-update",this.setLedColors):p["a"].$off("ledcolors-ledstream-update",this.setLedColors),this.$store.commit("temp/ledStreamRequest",{uuid:this.uuid,state:t})},__setImageStreamState:function(t){t?p["a"].$on("ledcolors-imagestream-update",this.setImage):p["a"].$off("ledcolors-imagestream-update",this.setImage),this.$store.commit("temp/imageStreamRequest",{uuid:this.uuid,state:t})},__update2dPaths:function(){this.paths2d=[];var t=this.__getCanvasSize(),e=q()(t,2),o=e[0],n=e[1],s=this.getLeds;this.ledsLength=s.length;var r=!0,i=!1,a=void 0;try{for(var c,l=s[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;this.paths2d.push(this.__build2DPath(u.hmin*o,u.vmin*n,(u.hmax-u.hmin)*o,(u.vmax-u.vmin)*n,5))}}catch(m){i=!0,a=m}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}this.lastLedColors=null===this.$store.getters["temp/getLastLedColors"]?Array(3*this.ledsLength).fill(0):this.$store.getters["temp/getLastLedColors"]},__build2DPath:function(t,e,o,n,s){if("undefined"===typeof s&&(s=5),"number"===typeof s)s={tl:s,tr:s,br:s,bl:s};else{var r={tl:0,tr:0,br:0,bl:0};for(var i in r)s[i]=s[i]||r[i]}var a=new Path2D;return a.moveTo(t+s.tl,e),a.lineTo(t+o-s.tr,e),a.quadraticCurveTo(t+o,e,t+o,e+s.tr),a.lineTo(t+o,e+n-s.br),a.quadraticCurveTo(t+o,e+n,t+o-s.br,e+n),a.lineTo(t+s.bl,e+n),a.quadraticCurveTo(t,e+n,t,e+n-s.bl),a.lineTo(t,e+s.tl),a.quadraticCurveTo(t,e,t+s.tl,e),a},__printLedsToCanvas:function(t){if(this.streamingLeds&&(this.led2dctx.Hclear(),"undefined"!==typeof t?this.lastLedColors=t:t=this.lastLedColors,!(this.ledsLength>t.length/3)))for(var e=0,o=0;o<this.ledsLength;o++)this.led2dctx.fillStyle="rgba("+t[e]+","+t[e+1]+","+t[e+2]+",0.85)",this.led2dctx.fill(this.paths2d[o]),e+=3},__setCanvasSize:function(t,e){this.image2dctx.canvas.width=t,this.image2dctx.canvas.height=e,this.led2dctx.canvas.width=t,this.led2dctx.canvas.height=e,this.$refs.flowHelper.style.height=e+"px"},__getCanvasSize:function(t,e){return[this.image2dctx.canvas.width,this.image2dctx.canvas.height]},__resetImage:function(){var t=this,e=this.__getCanvasSize(),o=q()(e,2),n=o[0],s=o[1];this.image2dctx.fillStyle="rgb(90,90,90)",this.image2dctx.fillRect(0,0,n,s);var r=new Image;r.onload=function(){t.image2dctx.drawImage(r,.5*n-126,.5*s-40)},r.src="statics/hyperion-logo-white.png"}}},x=$,y=Object(a["a"])(x,b,_,!1,null,null,null),w=y.exports,D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-list",[t._l(t.getComponents,(function(e){return[o("q-item",{key:e.name,attrs:{tag:"label"}},[o("q-item-section",[t._v("\n        "+t._s(t.$t("remote.comp."+e.name))+"\n      ")]),o("q-item-section",{attrs:{side:""}},[o("q-toggle",{attrs:{disable:"ALL"!=e.name&&!t.getHyperionEnable,value:e.enabled},on:{input:function(o){return t.requestCompChange(o,e.name)}}})],1)],1)]}))],2)},T=[],S={name:"ComponentsList",data:function(){return{}},computed:{getComponents:function(){return this.$store.getters["api/getComponents"]},getHyperionEnable:function(){return this.$store.getters["api/getHyperionEnable"]}},methods:{requestCompChange:function(t,e){this.$socket.setCompState(e,t)}}},L=S,A=Object(a["a"])(L,D,T,!1,null,null,null),I=A.exports,E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"flex-center",staticStyle:{"max-width":"500px"}},[o("q-list",[o("q-item-label",{attrs:{header:""}},[t._v("\n      "+t._s(t.$t("remote.adjust.subTitle"))+"\n    ")]),o("q-item",{directives:[{name:"show",rawName:"v-show",value:t.getIndexOptions.length>1,expression:"getIndexOptions.length > 1"}]},[o("q-item-section",[o("q-select",{attrs:{label:t.$t("remote.adjust.index"),hint:t.$t("remote.adjust.indexHelp"),"bottom-slots":"",options:t.getIndexOptions,value:0,"emit-value":"","map-options":""},model:{value:t.currentSelectedIndex,callback:function(e){t.currentSelectedIndex=e},expression:"currentSelectedIndex"}})],1)],1),t._l(t.getAdjustments,(function(e,n){return o("div",{directives:[{name:"show",rawName:"v-show",value:t.currentSelectedIndex==n,expression:"currentSelectedIndex == index"}],key:n,staticClass:"q-pa-sm"},t._l(t.sortedKeys,(function(s){return o("q-item",{key:s+n},[o("q-item-section",[o("q-item-label",[t._v(t._s(Array.isArray(e[s])?t.$t("colors."+s):t.$t("remote.adjust."+s)))]),Array.isArray(e[s])?o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"colorize",size:"sm"},on:{click:function(o){o.stopPropagation(),o.preventDefault(),t.currColor="rgb("+e[s][0]+","+e[s][1]+","+e[s][2]+")"}}},[o("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-color",{attrs:{value:t.currColor,"format-model":"rgb","no-footer":""},on:{input:function(o){return t.setAdjustment(e["id"],s,o)},change:function(e){return t.updateAdjustment(s,e)}}})],1)],1):s.startsWith("gamma")?o("q-slider",{attrs:{value:e[s],min:0,max:4,step:.1,label:""},on:{input:function(o){return t.setAdjustment(e["id"],s,o)}}}):s.includes("brightness")?o("q-slider",{attrs:{value:e[s],min:0,max:100,step:1,label:""},on:{input:function(o){return t.setAdjustment(e["id"],s,o)}}}):t._e()],1)],1)})),1)}))],2)],1)},P=[],j=o("bc78"),O=j["a"].textToRgb,B={name:"AdjustmentsList",data:function(){return{currentSelectedIndex:"0",sortedKeys:["white","red","green","blue","magenta","yellow","cyan","gammaRed","gammaGreen","gammaBlue","brightness","brightnessCompensation"],currentAdjustments:null,currColor:"rgb(0,0,0)"}},created:function(){this.copyAdjustData(),this.sendAdjustment=Object(p["i"])(this.sendAdjustment,1e3)},computed:{getAdjustments:function(){return this.currentAdjustments},getIndexOptions:function(){var t=[],e=this.getAdjustments;for(var o in e)t.push({value:o,label:e[o].id});return t}},methods:{updateAdjustment:function(t,e){var o=O(e);e=[o.r,o.g,o.b],this.currentAdjustments[this.currentSelectedIndex][t]=e},setAdjustment:function(t,e,o){if("string"==typeof o){var n=O(o);o=[n.r,n.g,n.b]}console.log(o),this.sendAdjustment(t,e,o)},sendAdjustment:function(t,e,o){this.$socket.setAdjustment(t,e,o)},copyAdjustData:function(){this.currentAdjustments=this.$store.getters["api/getAdjustments"]}}},R=B,M=Object(a["a"])(R,E,P,!1,null,null,null),z=M.exports},7585:function(t,e,o){}}]);